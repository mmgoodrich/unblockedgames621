function byteTable(t){var z,e=new Uint8Array(t.length);for(z=0;z<t.length;++z)e[z]=t[z];return e}function z80_init(){z80_init_tables()}function z80_init_tables(){var t,z,e,a;for(t=0;256>t;t++){for(sz53_table[t]=168&t,z=t,a=0,e=0;8>e;e++)a^=1&z,z>>=1;parity_table[t]=a?0:4,sz53p_table[t]=sz53_table[t]|parity_table[t]}sz53_table[0]|=64,sz53p_table[0]|=64}function z80_reset(){z80.a=z80.f=z80.b=z80.c=z80.d=z80.e=z80.h=z80.l=0,z80.a_=z80.f_=z80.b_=z80.c_=z80.d_=z80.e_=z80.h_=z80.l_=0,z80.ixh=z80.ixl=z80.iyh=z80.iyl=0,z80.i=z80.r=z80.r7=0,z80.sp=z80.pc=0,z80.iff1=z80.iff2=z80.im=0,z80.halted=0,z80.irq_pending=!1,z80.irq_suppress=!0}function z80_set_irq(t){z80.irq_pending=t,z80.irq_pending&&z80.iff1&&z80_interrupt()}function z80_interrupt(){if(z80.iff1)switch(z80.halted&&(z80.pc++,z80.pc&=65535,z80.halted=!1),z80.iff1=z80.iff2=0,z80.sp=z80.sp-1&65535,writebyte(z80.sp,z80.pc>>8),z80.sp=z80.sp-1&65535,writebyte(z80.sp,255&z80.pc),z80.r=z80.r+1&127,z80.im){case 0:z80.pc=56,tstates+=12;break;case 1:z80.pc=56,tstates+=13;break;case 2:var t=256*z80.i+255,z=readbyte(t++);t&=4095;var e=readbyte(t);z80.pc=z|e<<8,tstates+=19;break;default:ui_error(UI_ERROR_ERROR,"Unknown interrupt mode %d",z80.im),fuse_abort()}}function z80_instruction_hook(){}function z80_nmi(){z80.iff1=0,z80.sp=z80.sp-1&65535,writebyte(z80.sp,z80.pc>>8),z80.sp=z80.sp-1&65535,writebyte(z80.sp,255&z80.pc),tstates+=11,z80.pc=102}function sign_extend(t){return 128>t?t:t-256}function z80_defaults(t){for(var z=0;256>z;++z)t[z]||(t[z]=t[256])}function z80_edxx(t){z80_ed_ops[t]()}function z80_cbxx(t){z80_cb_ops[t]()}function z80_ddxx(t){z80_dd_ops[t]()}function z80_fdxx(t){z80_fd_ops[t]()}function z80_ddfdcbxx(t,z){z80_ddfdcb_ops[t](z)}function z80_do_opcodes(t){for(;tstates<event_next_event;){z80.irq_pending&&z80.iff1&&(z80.irq_suppress?z80.irq_suppress=!1:(z80.irq_suppress=!0,z80_interrupt()));var z=tstates;tstates+=4,z80.r=z80.r+1&127;var e=readbyte(z80.pc);z80_instruction_hook(z80.pc,e),z80.pc=z80.pc+1&65535,z80_base_ops[e](),t(tstates-z)}}function vdp_writeaddr(t){if(0===vdp_addr_state)vdp_addr_state=1,vdp_addr_latch=t;else switch(vdp_addr_state=0,t>>>6){case 0:case 1:vdp_mode_select=0,vdp_addr=vdp_addr_latch|(63&t)<<8;break;case 2:var z=15&t;switch(vdp_regs[z]=vdp_addr_latch,z){case 7:update_border()}break;case 3:vdp_mode_select=1,vdp_addr=31&vdp_addr_latch}}function vdp_writepalette(t){function z(t){var z=3&t;return z|=z<<2,z|=z<<4}const e=z(t),a=z(t>>>2),n=z(t>>>4),r=31&vdp_addr;paletteR[r]=e,paletteG[r]=a,paletteB[r]=n,paletteRGB[r]=4278190080|n<<16|a<<8|e,palette[r]=t,vdp_addr=vdp_addr+1&16383,update_border()}function vdp_writeram(t){vram[vdp_addr]=t;for(var z=16380&vdp_addr,e=2*z,a=vram[z],n=vram[z+1],r=vram[z+2],f=vram[z+3],s=0;8>s;++s){var i=7-s,c=a>>>i&1|(n>>>i&1)<<1|(r>>>i&1)<<2|(f>>>i&1)<<3;vramUntwiddled[e+s]=c}vdp_addr=vdp_addr+1&16383}function vdp_writebyte(t){vdp_addr_state=0,0===vdp_mode_select?vdp_writeram(t):vdp_writepalette(t)}function vdp_readram(){return res=vram[vdp_addr],vdp_addr=vdp_addr+1&16383,res}function vdp_readpalette(){return res=palette[31&vdp_addr],vdp_addr=vdp_addr+1&16383,res}function vdp_readbyte(){return vdp_addr_state=0,0===vdp_mode_select?vdp_readram():vdp_readpalette()}function update_border(){var t=16+(15&vdp_regs[7]);paletteRGB[t]!=prev_border&&(prev_border=paletteRGB[t],borderColourCss="rgb("+paletteR[t]+","+paletteG[t]+","+paletteB[t]+")")}function vdp_readstatus(){return res=vdp_status,vdp_status&=31,vdp_pending_hblank=!1,z80_set_irq(!1),vdp_addr_state=0,res}function findSprites(t){var z,e=(126&vdp_regs[5])<<7,a=[],n=8;for(2&vdp_regs[1]&&(n=16),z=0;64>z;z++){var r=vram[e+z];if(208===r)break;if(r>=240&&(r-=256),t>=r&&r+n>t){if(8===a.length){vdp_status|=64;break}a.push([vram[e+128+2*z],vram[e+128+2*z+1],r])}}return a}function dumpSprites(){var t=(126&vdp_regs[5])<<7;for(i=0;i<64;i++){var z=vram[t+i],e=vram[t+128+2*i],a=vram[t+128+2*i+1];console.log(i+" x: "+e+" y: "+z+" t: "+a)}}function dumpBackground(){for(var t=0;224>t;t+=8){var z=t+vdp_regs[9];z>=224&&(z-=224);for(var e=(vdp_regs[2]<<10&14336)+64*(z>>>3),a="",n=0;32>n;n++){var r=vram[e+2*n]|vram[e+2*n+1]<<8,f=511&r;a+=hexword(f)}console.log(a)}}function showAllTiles(){for(var t=0,z=0;224>z;z+=8){var e=z+vdp_regs[9];e>=224&&(e-=224);for(var a=(vdp_regs[2]<<10&14336)+64*(e>>>3),n=0;32>n;n++)vram[a+2*n]=255&t,vram[a+2*n+1]=t>>>8&1,t++}var r=findSprites;for(findSprites=function(){return[]},z=0;192>z;++z)rasterize_line(z);paintScreen(),findSprites=r,breakpoint()}function dumpTile(t){for(var z=32*t,e=0;8>e;++e){for(var a="",n=0;4>n;++n)a+=hexbyte(vram[z+4*e+n]);console.log(a)}}function rasterize_background(t,z,e,a,n){t=0|t,z=0|z,e=0|e,a=2*(0|a);var r,f;512&e?(f=-1,a+=7):f=1;const s=2048&e?16:0;var i;if(n&&0===s)for(r=0;8>r;r++)i=vramUntwiddled[a],a+=f,0!==i&&(fb32[t+z]=paletteRGB[i]),z=z+1&255;else i=vramUntwiddled[a]+s,a+=f,fb32[t+z]=paletteRGB[i],z=z+1&255,i=vramUntwiddled[a]+s,a+=f,fb32[t+z]=paletteRGB[i],z=z+1&255,i=vramUntwiddled[a]+s,a+=f,fb32[t+z]=paletteRGB[i],z=z+1&255,i=vramUntwiddled[a]+s,a+=f,fb32[t+z]=paletteRGB[i],z=z+1&255,i=vramUntwiddled[a]+s,a+=f,fb32[t+z]=paletteRGB[i],z=z+1&255,i=vramUntwiddled[a]+s,a+=f,fb32[t+z]=paletteRGB[i],z=z+1&255,i=vramUntwiddled[a]+s,a+=f,fb32[t+z]=paletteRGB[i],z=z+1&255,i=vramUntwiddled[a]+s,fb32[t+z]=paletteRGB[i]}function clear_background(t,z){t=0|t,z=0|z;var e;const a=paletteRGB[0];for(e=0;8>e;++e)fb32[t+z]=a,z=z+1&255}function rasterize_background_line(t,z,e,a){t=0|t,z=0|z,e=0|e;const n=4*(0|a);for(var r=0;32>r;r++){var f=vram[e+2*r]|vram[e+2*r+1]<<8,s=511&f,i=32*s;i+=1024&f?28-n:n,0===(4096&f)?rasterize_background(t,z,f,i,!1):clear_background(t,z),z=z+8&255}}function rasterize_foreground_line(t,z,e,a){t=0|t,z=0|z,e=0|e;const n=4*(0|a);for(var r=0;32>r;r++){var f=vram[e+2*r]|vram[e+2*r+1]<<8;if(0!==(4096&f)){var s=511&f,i=32*s;i+=1024&f?28-n:n,rasterize_background(t,8*r+z&255,f,i,!0)}}}function rasterize_sprites(t,z,e,a){z=0|z,e=0|e;const n=4&vdp_regs[6]?8192:0;for(var r=0;256>r;++r){for(var f=r,s=!1,i=!1,c=256,b=0;b<a.length;b++){var o=a[b],l=f-o[0];if(0>l){var d=-l;c>d&&(c=d)}else if(!(l>=8)){s=!0;var u=t-o[2],y=n+32*o[1]+4*u,p=2*y+l,_=vramUntwiddled[p];if(0!==_){if(i){vdp_status|=32;break}fb32[z+(e+r-vdp_regs[8]&255)]=paletteRGB[16+_],i=!0}}}!s&&c>1&&(r+=c-1)}}function border_clear(t,z){t=0|t,z=0|z;const e=16+(15&vdp_regs[7]),a=paletteRGB[e];for(var n=0;z>n;n++)fb32[t+n]=a}function rasterize_line(t){t=0|t;const z=256*t|0;if(0===(64&vdp_regs[1]))return void border_clear(z,256);var e=t+vdp_regs[9];e>=224&&(e-=224);const a=findSprites(t),n=64&vdp_regs[0]&&16>t?0:vdp_regs[8],r=(vdp_regs[2]<<10&14336)+64*(e>>>3),f=7&e;rasterize_background_line(z,n,r,f),a.length&&rasterize_sprites(t,z,n,a),rasterize_foreground_line(z,n,r,f),32&vdp_regs[0]&&border_clear(z,8)}function vdp_frame_hook(){}function vdp_hblank(){const t=70,z=262,e=313;vdp_current_line==t&&(vdp_hblank_counter=vdp_regs[10]),vdp_current_line>=t&&z>vdp_current_line&&(rasterize_line(vdp_current_line-t),--vdp_hblank_counter<0&&(vdp_hblank_counter=vdp_regs[10],vdp_pending_hblank=!0)),vdp_current_line++;var a=0;return vdp_current_line===e&&(vdp_current_line=0,vdp_status|=128,a|=4,currentFrame++,vdp_frame_hook(currentFrame),borderColourCss&&(canvas.style.borderColor=borderColourCss,borderColourCss=null)),32&vdp_regs[1]&&128&vdp_status&&(a|=2),16&vdp_regs[0]&&vdp_pending_hblank&&(a|=1),a}function vdp_init(){vram=new Uint8Array(16384),vramUntwiddled=new Uint8Array(32768),palette=new Uint8Array(32),paletteR=new Uint8Array(32),paletteG=new Uint8Array(32),paletteB=new Uint8Array(32),paletteRGB=new Uint32Array(32),vdp_regs=new Uint8Array(16),vdp_reset()}function vdp_reset(){for(var t=0;16384>t;t++)vram[t]=0;for(t=0;32>t;t++)paletteR[t]=paletteG[t]=paletteB[t]=paletteRGB[t]=palette[t]=0;for(t=0;16>t;t++)vdp_regs[t]=0;for(t=2;5>=t;t++)vdp_regs[t]=255;vdp_regs[6]=251,vdp_regs[10]=255,vdp_current_line=vdp_status=vdp_hblank_counter=0,vdp_mode_select=0}function vdp_get_line(){return vdp_current_line-64&255}function vdp_get_x(){return 0}function SoundChip(t,z){"use strict";function e(t,z,e,a){var n,r=p[t],f=v[t];if(1>=r)for(n=0;a>n;++n)z[n+e]+=f;else for(n=0;a>n;++n)_[t]-=u,_[t]<0&&(_[t]+=r,h[t]=!h[t]),z[n+e]+=h[t]?f:-f}function a(){var t=1&k^(8&k)>>3;k=k>>1|t<<15}function n(){k>>=1,0===k&&(k=32768)}function r(){R=4&p[3]?a:n,k=32768}function f(t){switch(t=0|t,3&p[t]){case 0:return 16;case 1:return 32;case 2:return 64;case 3:return p[t-1]}}function s(t,z,e,a){for(var n=f(t),r=v[t],s=0;a>s;++s)_[t]-=u,_[t]<0&&(_[t]+=n,h[t]=!h[t],h[t]&&R()),z[s+e]+=1&k?r:-r}function i(t,z,e){z=0|z,e=0|e;var a;for(a=0;e>a;++a)t[a+z]=0;if(C)for(a=0;4>a;++a)x[a](a,t,z,e)}function c(){U&&o(U),U=0}function b(t,z,e){c();for(var a=S>e?e:S,n=0;a>n;++n)t[z+n]=B[n];for(z+=a,e-=a,n=a;S>n;++n)B[n-a]=B[n];S-=a,0!==e&&i(t,z,e)}function o(t){var z=t*y+A,e=0|z;A=z-e,S+e>=G&&(e=G-S),0!==e&&(i(B,S,e),S+=e)}function l(t){c();var z=!!(128&t);if(z&&(D=t>>5&3),144==(144&t)){var e=15&t;v[D]=g[e]}else 3==D?(p[D]=15&t,r()):z?p[D]=-16&p[D]|15&t:p[D]=15&p[D]|(63&t)<<4}var d=3546893/16,u=d/t,y=t/z,p=[0,0,0,0];this.registers=p;var _=[0,0,0,0],h=[!1,!1,!1,!1],v=[0,0,0,0];this.volume=v;var w,x=[null,null,null,null],g=[],m=1;for(w=0;16>w;++w)g[w]=m/x.length,m*=Math.pow(10,-.1);g[15]=0;var k=0,R=a,C=!0,U=0;this.polltime=function(t){U+=t};var B,A=0,S=0,G=4096;B="undefined"!=typeof Float64Array?new Float64Array(G):new Float32Array(G);var D=0;for(w=0;3>w;++w)x[w]=e;x[3]=s,this.render=b,this.poke=l,this.reset=function(){for(var t=0;3>t;++t)_[t]=v[t]=p[t]=0;r(),o(1e5),U=0},this.enable=function(t){C=t},this.mute=function(){C=!1},this.unmute=function(){C=!0}}function cycleCallback(t){soundChip.polltime(t)}function line(){event_next_event=tstatesPerHblank,tstates-=tstatesPerHblank,z80_do_opcodes(cycleCallback);var t=vdp_hblank(),z=!!(3&t);return z80_set_irq(z),breakpointHit?(running=!1,!0):4&t?(paintScreen(),!0):!1}function start(){breakpointHit=!1,running||(running=!0,audio_enable(!0),run())}function run(){if(running){var t=Date.now();if(lastFrame){var z=t-lastFrame;if(40>z){var e=z-targetTimeout;adjustedTimeout-=.1*e}}lastFrame=t,setTimeout(run,adjustedTimeout);var a=function(){if(running){try{for(var t=0;linesPerYield>t;++t)if(line())return}catch(z){throw running=!1,audio_enable(!0),z}running&&setTimeout(a,0)}};a()}}function stop(){running=!1,audio_enable(!1)}function reset(){miracle_reset()}function pumpAudio(t){var z=t.outputBuffer,e=z.getChannelData(0);soundChip.render(e,0,e.length)}function audio_init(){var t=null;if("undefined"!=typeof AudioContext)t=new AudioContext;else{if("undefined"==typeof webkitAudioContext)return audioRun=function(){},void(soundChip=new SoundChip(1e4,cpuHz));t=new webkitAudioContext}var z=t.createScriptProcessor(1024,0,1);z.onaudioprocess=pumpAudio,z.connect(t.destination,0,0),soundChip=new SoundChip(t.sampleRate,cpuHz)}function audio_enable(t){soundChip.enable(t)}function audio_reset(){soundChip.reset()}function miracle_init(){vdp_init(),audio_init(),ram=new Uint8Array(8192),cartridgeRam=new Uint8Array(32768),pages=new Uint8Array(3),miracle_reset(),canvas=document.getElementById("screen"),ctx=canvas.getContext("2d"),ctx.getImageData?(imageData=ctx.getImageData(0,0,256,192),fb8=imageData.data,fb32=new Uint32Array(fb8.buffer)):alert("upgrade your browser, dude"),document.onkeydown=keyDown,document.onkeyup=keyUp,document.onkeypress=keyPress}function miracle_reset(){for(var t=0;8192>t;t++)ram[t]=0;for(t=0;32768>t;t++)cartridgeRam[t]=0;for(t=0;3>t;t++)pages[t]=t;ramSelectRegister=0,inputMode=7,z80_reset(),vdp_reset(),audio_reset()}function keyCode(t){return t.which||t.charCode||t.keyCode}function keyDown(t){if(running){var z=keys[keyCode(t)];if(z&&(joystick&=~z,!t.metaKey))return void t.preventDefault();switch(t.keyCode){case 80:z80_nmi();break;case 84:audio_on=!audio_on,audio_enable(audio_on);break;case 8:breakpoint(),t.preventDefault()}}}function keyUp(t){if(running){var z=keys[keyCode(t)];z&&(joystick|=z,t.metaKey||t.preventDefault())}}function keyPress(t){return running?void(t.metaKey||t.preventDefault()):debugKeyPress(keyCode(t))}function dpadDown(t){if(running){var z=keys[t];return z?(joystick&=~z,void window.event.preventDefault()):void 0}}function dpadUp(t){if(running){var z=keys[t];z&&(joystick|=z,window.event.preventDefault())}}function paintScreen(){ctx.putImageData(imageData,0,0)}function loadRom(t,z){var e,a=z.length/16384;for(console.log("Loading rom of "+a+" banks"),e=0;a>e;e++){romBanks[e]=new Uint8Array(16384);for(var n=0;16384>n;n++)romBanks[e][n]=z.charCodeAt(16384*e+n)}for(e=0;3>e;e++)pages[e]=e%a;romPageMask=a-1|0}function hexword(t){return(t>>12&15).toString(16)+(t>>8&15).toString(16)+(t>>4&15).toString(16)+(15&t).toString(16)}function virtualAddress(t){function z(t,z){return"rom"+t.toString(16)+"_"+hexword(z)}if(1024>t)return z(0,t);if(16384>t)return z(pages[0],t);if(32768>t)return z(pages[1],t-16384);if(49152>t)return 8==(12&ramSelectRegister)?"crm_"+hexword(t-32768):12==(12&ramSelectRegister)?"crm_"+hexword(t-16384):z(pages[2],t-32768);if(57344>t)return"ram+"+hexword(t-49152);if(65532>t)return"ram_"+hexword(t-57344);switch(t){case 65532:return"rsr";case 65533:return"rpr_0";case 65534:return"rpr_1";case 65535:return"rpr_2"}return"unk_"+hexword(t)}function readbyte(t){t=0|t;var z=t>>>14&3;switch(t&=16383,z){case 0:return 1024>t?romBanks[0][t]:romBanks[pages[0]][t];case 1:return romBanks[pages[1]][t];case 2:switch(12&ramSelectRegister){default:break;case 8:return cartridgeRam[t];case 12:return cartridgeRam[t+16384]}return romBanks[pages[2]][t];case 3:return ram[8191&t]}}function writebyte(t,z){if(t=0|t,z=0|z,t>=65532)switch(t){case 65532:ramSelectRegister=z;break;case 65533:z&=romPageMask,pages[0]=z;break;case 65534:z&=romPageMask,pages[1]=z;break;case 65535:z&=romPageMask,pages[2]=z;break;default:throw"zoiks"}t-=49152,0>t||(ram[8191&t]=z)}function readport(t){switch(t&=255){case 126:return vdp_get_line();case 127:return vdp_get_x();case 220:case 192:return 255&joystick;case 221:case 193:return joystick>>8&255;case 190:return vdp_readbyte();case 189:case 191:return vdp_readstatus();case 222:return 255;case 223:return 255;case 242:return 0;default:return console.log("IO port "+hexbyte(t)+"?"),255}}function writeport(t,z){switch(z=0|z,t&=255){case 63:var e=z>>5&1;0===(1&z)&&(e=1),joystick=-16385&joystick|e<<14,e=z>>7&1,0===(4&z)&&(e=1),joystick=-32769&joystick|e<<15;break;case 126:case 127:soundChip.poke(z);break;case 189:case 191:vdp_writeaddr(z);break;case 190:vdp_writebyte(z);break;case 222:inputMode=z;break;case 223:break;case 240:case 241:case 242:break;case 62:break;default:console.log("IO port "+hexbyte(t)+" = "+z)}}function breakpoint(){event_next_event=0,breakpointHit=!0,audio_enable(!1)}const halfcarry_add_table=byteTable([0,16,16,16,0,0,0,16]),halfcarry_sub_table=byteTable([0,0,16,0,16,0,16,16]),overflow_add_table=byteTable([0,0,0,4,4,0,0,0]),overflow_sub_table=byteTable([0,4,0,0,0,0,4,0]);var sz53_table=new Uint8Array(256),parity_table=new Uint8Array(256),sz53p_table=new Uint8Array(256),z80={a:0,f:0,b:0,c:0,d:0,e:0,h:0,l:0,a_:0,f_:0,b_:0,c_:0,d_:0,e_:0,h_:0,l_:0,ixh:0,ixl:0,iyh:0,iyl:0,i:0,r:0,r7:0,sp:0,pc:0,iff1:0,iff2:0,im:0,halted:!1,irq_pending:!1,irq_suppress:!1},z80_base_ops=function(){var t=[];return t[0]=function(t){},t[1]=function(t){tstates+=6,z80.c=readbyte(z80.pc++),z80.pc&=65535,z80.b=readbyte(z80.pc++),z80.pc&=65535},t[2]=function(t){tstates+=3,writebyte(z80.c|z80.b<<8,z80.a)},t[3]=function(t){tstates+=2;var z=(z80.c|z80.b<<8)+1&65535;z80.b=z>>8,z80.c=255&z},t[4]=function(t){z80.b=z80.b+1&255,z80.f=1&z80.f|(128==z80.b?4:0)|(15&z80.b?0:16)|sz53_table[z80.b]},t[5]=function(t){z80.f=1&z80.f|(15&z80.b?0:16)|2,z80.b=z80.b-1&255,z80.f|=(127==z80.b?4:0)|sz53_table[z80.b]},t[6]=function(t){tstates+=3,z80.b=readbyte(z80.pc++),z80.pc&=65535},t[7]=function(t){z80.a=(127&z80.a)<<1|z80.a>>7,z80.f=196&z80.f|41&z80.a},t[8]=function(t){var z=z80.a,e=z80.f;z80.a=z80.a_,z80.f=z80.f_,z80.a_=z,z80.f_=e},t[9]=function(t){var z=(z80.l|z80.h<<8)+(z80.c|z80.b<<8),e=(2048&(z80.l|z80.h<<8))>>11|(2048&(z80.c|z80.b<<8))>>10|(2048&z)>>9;tstates+=7,z80.h=z>>8&255,z80.l=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[10]=function(t){tstates+=3,z80.a=readbyte(z80.c|z80.b<<8)},t[11]=function(t){tstates+=2;var z=(z80.c|z80.b<<8)-1&65535;z80.b=z>>8,z80.c=255&z},t[12]=function(t){z80.c=z80.c+1&255,z80.f=1&z80.f|(128==z80.c?4:0)|(15&z80.c?0:16)|sz53_table[z80.c]},t[13]=function(t){z80.f=1&z80.f|(15&z80.c?0:16)|2,z80.c=z80.c-1&255,z80.f|=(127==z80.c?4:0)|sz53_table[z80.c]},t[14]=function(t){tstates+=3,z80.c=readbyte(z80.pc++),z80.pc&=65535},t[15]=function(t){z80.f=196&z80.f|1&z80.a,z80.a=z80.a>>1|(1&z80.a)<<7,z80.f|=40&z80.a},t[16]=function(t){tstates+=4,z80.b=z80.b-1&255,z80.b&&(tstates+=5,z80.pc+=sign_extend(readbyte(z80.pc)),z80.pc&=65535),z80.pc++,z80.pc&=65535},t[17]=function(t){tstates+=6,z80.e=readbyte(z80.pc++),z80.pc&=65535,z80.d=readbyte(z80.pc++),z80.pc&=65535},t[18]=function(t){tstates+=3,writebyte(z80.e|z80.d<<8,z80.a)},t[19]=function(t){tstates+=2;var z=(z80.e|z80.d<<8)+1&65535;z80.d=z>>8,z80.e=255&z},t[20]=function(t){z80.d=z80.d+1&255,z80.f=1&z80.f|(128==z80.d?4:0)|(15&z80.d?0:16)|sz53_table[z80.d]},t[21]=function(t){z80.f=1&z80.f|(15&z80.d?0:16)|2,z80.d=z80.d-1&255,z80.f|=(127==z80.d?4:0)|sz53_table[z80.d]},t[22]=function(t){tstates+=3,z80.d=readbyte(z80.pc++),z80.pc&=65535},t[23]=function(t){var z=z80.a;z80.a=(127&z80.a)<<1|1&z80.f,z80.f=196&z80.f|40&z80.a|z>>7},t[24]=function(t){tstates+=3,tstates+=5,z80.pc+=sign_extend(readbyte(z80.pc)),z80.pc&=65535,z80.pc++,z80.pc&=65535},t[25]=function(t){var z=(z80.l|z80.h<<8)+(z80.e|z80.d<<8),e=(2048&(z80.l|z80.h<<8))>>11|(2048&(z80.e|z80.d<<8))>>10|(2048&z)>>9;tstates+=7,z80.h=z>>8&255,z80.l=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[26]=function(t){tstates+=3,z80.a=readbyte(z80.e|z80.d<<8)},t[27]=function(t){tstates+=2;var z=(z80.e|z80.d<<8)-1&65535;z80.d=z>>8,z80.e=255&z},t[28]=function(t){z80.e=z80.e+1&255,z80.f=1&z80.f|(128==z80.e?4:0)|(15&z80.e?0:16)|sz53_table[z80.e]},t[29]=function(t){z80.f=1&z80.f|(15&z80.e?0:16)|2,z80.e=z80.e-1&255,z80.f|=(127==z80.e?4:0)|sz53_table[z80.e]},t[30]=function(t){tstates+=3,z80.e=readbyte(z80.pc++),z80.pc&=65535},t[31]=function(t){var z=z80.a;z80.a=z80.a>>1|(1&z80.f)<<7,z80.f=196&z80.f|40&z80.a|1&z},t[32]=function(t){tstates+=3,64&z80.f||(tstates+=5,z80.pc+=sign_extend(readbyte(z80.pc)),z80.pc&=65535),z80.pc++,z80.pc&=65535},t[33]=function(t){tstates+=6,z80.l=readbyte(z80.pc++),z80.pc&=65535,z80.h=readbyte(z80.pc++),z80.pc&=65535},t[34]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,writebyte(z++,z80.l),z&=65535,writebyte(z,z80.h)},t[35]=function(t){tstates+=2;var z=(z80.l|z80.h<<8)+1&65535;z80.h=z>>8,z80.l=255&z},t[36]=function(t){z80.h=z80.h+1&255,z80.f=1&z80.f|(128==z80.h?4:0)|(15&z80.h?0:16)|sz53_table[z80.h]},t[37]=function(t){z80.f=1&z80.f|(15&z80.h?0:16)|2,z80.h=z80.h-1&255,z80.f|=(127==z80.h?4:0)|sz53_table[z80.h]},t[38]=function(t){tstates+=3,z80.h=readbyte(z80.pc++),z80.pc&=65535},t[39]=function(t){var z=0,e=1&z80.f;if((16&z80.f||(15&z80.a)>9)&&(z=6),(e||z80.a>153)&&(z|=96),z80.a>153&&(e=1),2&z80.f){var a=z80.a-z,n=(136&z80.a)>>3|(136&z)>>2|(136&a)>>1;z80.a=255&a,z80.f=2|(256&a?1:0)|halfcarry_sub_table[7&n]|overflow_sub_table[n>>4]|sz53_table[z80.a]}else{var r=z80.a+z,n=(136&z80.a)>>3|(136&z)>>2|(136&r)>>1;z80.a=255&r,z80.f=(256&r?1:0)|halfcarry_add_table[7&n]|overflow_add_table[n>>4]|sz53_table[z80.a]}z80.f=-6&z80.f|e|parity_table[z80.a]},t[40]=function(t){tstates+=3,64&z80.f&&(tstates+=5,z80.pc+=sign_extend(readbyte(z80.pc)),z80.pc&=65535),z80.pc++,z80.pc&=65535},t[41]=function(t){var z=(z80.l|z80.h<<8)+(z80.l|z80.h<<8),e=(2048&(z80.l|z80.h<<8))>>11|(2048&(z80.l|z80.h<<8))>>10|(2048&z)>>9;tstates+=7,z80.h=z>>8&255,z80.l=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[42]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,z80.l=readbyte(z++),z&=65535,z80.h=readbyte(z)},t[43]=function(t){tstates+=2;var z=(z80.l|z80.h<<8)-1&65535;z80.h=z>>8,z80.l=255&z},t[44]=function(t){z80.l=z80.l+1&255,z80.f=1&z80.f|(128==z80.l?4:0)|(15&z80.l?0:16)|sz53_table[z80.l]},t[45]=function(t){z80.f=1&z80.f|(15&z80.l?0:16)|2,z80.l=z80.l-1&255,z80.f|=(127==z80.l?4:0)|sz53_table[z80.l]},t[46]=function(t){tstates+=3,z80.l=readbyte(z80.pc++),z80.pc&=65535},t[47]=function(t){z80.a^=255,z80.f=197&z80.f|40&z80.a|18},t[48]=function(t){tstates+=3,1&z80.f||(tstates+=5,z80.pc+=sign_extend(readbyte(z80.pc)),z80.pc&=65535),z80.pc++,z80.pc&=65535},t[49]=function(t){tstates+=6;var z=readbyte(z80.pc++);z80.pc&=65535;var e=readbyte(z80.pc++);z80.sp=z|e<<8,z80.pc&=65535},t[50]=function(t){tstates+=3;var z=readbyte(z80.pc++);z80.pc&=65535,tstates+=6,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,writebyte(z,z80.a)},t[51]=function(t){tstates+=2,z80.sp=z80.sp+1&65535},t[52]=function(t){tstates+=7;var z=readbyte(z80.l|z80.h<<8);z=z+1&255,z80.f=1&z80.f|(128==z?4:0)|(15&z?0:16)|sz53_table[z],writebyte(z80.l|z80.h<<8,z)},t[53]=function(t){tstates+=7;var z=readbyte(z80.l|z80.h<<8);z80.f=1&z80.f|(15&z?0:16)|2,z=z-1&255,z80.f|=(127==z?4:0)|sz53_table[z],writebyte(z80.l|z80.h<<8,z)},t[54]=function(t){tstates+=6,writebyte(z80.l|z80.h<<8,readbyte(z80.pc++)),z80.pc&=65535},t[55]=function(t){z80.f=196&z80.f|40&z80.a|1},t[56]=function(t){tstates+=3,1&z80.f&&(tstates+=5,z80.pc+=sign_extend(readbyte(z80.pc)),z80.pc&=65535),z80.pc++,z80.pc&=65535},t[57]=function(t){var z=(z80.l|z80.h<<8)+z80.sp,e=(2048&(z80.l|z80.h<<8))>>11|(2048&z80.sp)>>10|(2048&z)>>9;tstates+=7,z80.h=z>>8&255,z80.l=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[58]=function(t){var z;tstates+=9,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,z80.a=readbyte(z)},t[59]=function(t){tstates+=2,z80.sp=z80.sp-1&65535},t[60]=function(t){z80.a=z80.a+1&255,z80.f=1&z80.f|(128==z80.a?4:0)|(15&z80.a?0:16)|sz53_table[z80.a]},t[61]=function(t){z80.f=1&z80.f|(15&z80.a?0:16)|2,z80.a=z80.a-1&255,z80.f|=(127==z80.a?4:0)|sz53_table[z80.a]},t[62]=function(t){tstates+=3,z80.a=readbyte(z80.pc++),z80.pc&=65535},t[63]=function(t){z80.f=196&z80.f|(1&z80.f?16:1)|40&z80.a},t[64]=function(t){},t[65]=function(t){z80.b=z80.c},t[66]=function(t){z80.b=z80.d},t[67]=function(t){z80.b=z80.e},t[68]=function(t){z80.b=z80.h},t[69]=function(t){z80.b=z80.l},t[70]=function(t){tstates+=3,z80.b=readbyte(z80.l|z80.h<<8)},t[71]=function(t){z80.b=z80.a},t[72]=function(t){z80.c=z80.b},t[73]=function(t){},t[74]=function(t){z80.c=z80.d},t[75]=function(t){z80.c=z80.e},t[76]=function(t){z80.c=z80.h},t[77]=function(t){z80.c=z80.l},t[78]=function(t){tstates+=3,z80.c=readbyte(z80.l|z80.h<<8)},t[79]=function(t){z80.c=z80.a},t[80]=function(t){z80.d=z80.b},t[81]=function(t){z80.d=z80.c},t[82]=function(t){},t[83]=function(t){z80.d=z80.e},t[84]=function(t){z80.d=z80.h},t[85]=function(t){z80.d=z80.l},t[86]=function(t){tstates+=3,z80.d=readbyte(z80.l|z80.h<<8)},t[87]=function(t){z80.d=z80.a},t[88]=function(t){z80.e=z80.b},t[89]=function(t){z80.e=z80.c},t[90]=function(t){z80.e=z80.d},t[91]=function(t){},t[92]=function(t){z80.e=z80.h},t[93]=function(t){z80.e=z80.l},t[94]=function(t){tstates+=3,z80.e=readbyte(z80.l|z80.h<<8)},t[95]=function(t){z80.e=z80.a},t[96]=function(t){z80.h=z80.b},t[97]=function(t){z80.h=z80.c},t[98]=function(t){z80.h=z80.d},t[99]=function(t){z80.h=z80.e},t[100]=function(t){},t[101]=function(t){z80.h=z80.l},t[102]=function(t){tstates+=3,z80.h=readbyte(z80.l|z80.h<<8)},t[103]=function(t){z80.h=z80.a},t[104]=function(t){z80.l=z80.b},t[105]=function(t){z80.l=z80.c},t[106]=function(t){z80.l=z80.d},t[107]=function(t){z80.l=z80.e},t[108]=function(t){z80.l=z80.h},t[109]=function(t){},t[110]=function(t){tstates+=3,z80.l=readbyte(z80.l|z80.h<<8)},t[111]=function(t){z80.l=z80.a},t[112]=function(t){tstates+=3,writebyte(z80.l|z80.h<<8,z80.b)},t[113]=function(t){tstates+=3,writebyte(z80.l|z80.h<<8,z80.c)},t[114]=function(t){tstates+=3,writebyte(z80.l|z80.h<<8,z80.d)},t[115]=function(t){tstates+=3,writebyte(z80.l|z80.h<<8,z80.e)},t[116]=function(t){tstates+=3,writebyte(z80.l|z80.h<<8,z80.h)},t[117]=function(t){tstates+=3,writebyte(z80.l|z80.h<<8,z80.l)},t[118]=function(t){z80.halted=1,z80.pc--,z80.pc&=65535},t[119]=function(t){tstates+=3,writebyte(z80.l|z80.h<<8,z80.a)},t[120]=function(t){z80.a=z80.b},t[121]=function(t){z80.a=z80.c},t[122]=function(t){z80.a=z80.d},t[123]=function(t){z80.a=z80.e},t[124]=function(t){z80.a=z80.h},t[125]=function(t){z80.a=z80.l},t[126]=function(t){tstates+=3,z80.a=readbyte(z80.l|z80.h<<8)},t[127]=function(t){},t[128]=function(t){var z=z80.a+z80.b,e=(136&z80.a)>>3|(136&z80.b)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[129]=function(t){var z=z80.a+z80.c,e=(136&z80.a)>>3|(136&z80.c)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[130]=function(t){var z=z80.a+z80.d,e=(136&z80.a)>>3|(136&z80.d)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[131]=function(t){var z=z80.a+z80.e,e=(136&z80.a)>>3|(136&z80.e)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[132]=function(t){var z=z80.a+z80.h,e=(136&z80.a)>>3|(136&z80.h)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[133]=function(t){var z=z80.a+z80.l,e=(136&z80.a)>>3|(136&z80.l)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[134]=function(t){tstates+=3;var z=readbyte(z80.l|z80.h<<8),e=z80.a+z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=(256&e?1:0)|halfcarry_add_table[7&a]|overflow_add_table[a>>4]|sz53_table[z80.a]},t[135]=function(t){var z=z80.a+z80.a,e=(136&z80.a)>>3|(136&z80.a)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[136]=function(t){var z=z80.a+z80.b+(1&z80.f),e=(136&z80.a)>>3|(136&z80.b)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[137]=function(t){var z=z80.a+z80.c+(1&z80.f),e=(136&z80.a)>>3|(136&z80.c)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[138]=function(t){var z=z80.a+z80.d+(1&z80.f),e=(136&z80.a)>>3|(136&z80.d)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[139]=function(t){var z=z80.a+z80.e+(1&z80.f),e=(136&z80.a)>>3|(136&z80.e)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[140]=function(t){var z=z80.a+z80.h+(1&z80.f),e=(136&z80.a)>>3|(136&z80.h)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[141]=function(t){var z=z80.a+z80.l+(1&z80.f),e=(136&z80.a)>>3|(136&z80.l)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[142]=function(t){tstates+=3;var z=readbyte(z80.l|z80.h<<8),e=z80.a+z+(1&z80.f),a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=(256&e?1:0)|halfcarry_add_table[7&a]|overflow_add_table[a>>4]|sz53_table[z80.a]},t[143]=function(t){var z=z80.a+z80.a+(1&z80.f),e=(136&z80.a)>>3|(136&z80.a)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[144]=function(t){var z=z80.a-z80.b,e=(136&z80.a)>>3|(136&z80.b)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[145]=function(t){var z=z80.a-z80.c,e=(136&z80.a)>>3|(136&z80.c)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[146]=function(t){var z=z80.a-z80.d,e=(136&z80.a)>>3|(136&z80.d)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[147]=function(t){var z=z80.a-z80.e,e=(136&z80.a)>>3|(136&z80.e)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[148]=function(t){var z=z80.a-z80.h,e=(136&z80.a)>>3|(136&z80.h)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[149]=function(t){var z=z80.a-z80.l,e=(136&z80.a)>>3|(136&z80.l)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[150]=function(t){tstates+=3;var z=readbyte(z80.l|z80.h<<8),e=z80.a-z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=2|(256&e?1:0)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|sz53_table[z80.a]},t[151]=function(t){var z=z80.a-z80.a,e=(136&z80.a)>>3|(136&z80.a)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[152]=function(t){var z=z80.a-z80.b-(1&z80.f),e=(136&z80.a)>>3|(136&z80.b)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[153]=function(t){var z=z80.a-z80.c-(1&z80.f),e=(136&z80.a)>>3|(136&z80.c)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[154]=function(t){var z=z80.a-z80.d-(1&z80.f),e=(136&z80.a)>>3|(136&z80.d)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[155]=function(t){var z=z80.a-z80.e-(1&z80.f),e=(136&z80.a)>>3|(136&z80.e)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[156]=function(t){var z=z80.a-z80.h-(1&z80.f),e=(136&z80.a)>>3|(136&z80.h)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[157]=function(t){var z=z80.a-z80.l-(1&z80.f),e=(136&z80.a)>>3|(136&z80.l)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[158]=function(t){tstates+=3;var z=readbyte(z80.l|z80.h<<8),e=z80.a-z-(1&z80.f),a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=2|(256&e?1:0)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|sz53_table[z80.a]},t[159]=function(t){var z=z80.a-z80.a-(1&z80.f),e=(136&z80.a)>>3|(136&z80.a)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[160]=function(t){z80.a&=z80.b,z80.f=16|sz53p_table[z80.a]},t[161]=function(t){z80.a&=z80.c,z80.f=16|sz53p_table[z80.a]},t[162]=function(t){z80.a&=z80.d,z80.f=16|sz53p_table[z80.a]},t[163]=function(t){z80.a&=z80.e,z80.f=16|sz53p_table[z80.a]},t[164]=function(t){z80.a&=z80.h,z80.f=16|sz53p_table[z80.a]},t[165]=function(t){z80.a&=z80.l,z80.f=16|sz53p_table[z80.a]},t[166]=function(t){tstates+=3;var z=readbyte(z80.l|z80.h<<8);z80.a&=z,z80.f=16|sz53p_table[z80.a]},t[167]=function(t){z80.a&=z80.a,z80.f=16|sz53p_table[z80.a]},t[168]=function(t){z80.a^=z80.b,z80.f=sz53p_table[z80.a]},t[169]=function(t){z80.a^=z80.c,z80.f=sz53p_table[z80.a]},t[170]=function(t){z80.a^=z80.d,z80.f=sz53p_table[z80.a]},t[171]=function(t){z80.a^=z80.e,z80.f=sz53p_table[z80.a]},t[172]=function(t){z80.a^=z80.h,z80.f=sz53p_table[z80.a]},t[173]=function(t){z80.a^=z80.l,z80.f=sz53p_table[z80.a]},t[174]=function(t){tstates+=3;var z=readbyte(z80.l|z80.h<<8);z80.a^=z,z80.f=sz53p_table[z80.a]},t[175]=function(t){z80.a^=z80.a,z80.f=sz53p_table[z80.a]},t[176]=function(t){z80.a|=z80.b,z80.f=sz53p_table[z80.a]},t[177]=function(t){z80.a|=z80.c,z80.f=sz53p_table[z80.a]},t[178]=function(t){z80.a|=z80.d,z80.f=sz53p_table[z80.a]},t[179]=function(t){z80.a|=z80.e,z80.f=sz53p_table[z80.a]},t[180]=function(t){z80.a|=z80.h,z80.f=sz53p_table[z80.a]},t[181]=function(t){z80.a|=z80.l,
z80.f=sz53p_table[z80.a]},t[182]=function(t){tstates+=3;var z=readbyte(z80.l|z80.h<<8);z80.a|=z,z80.f=sz53p_table[z80.a]},t[183]=function(t){z80.a|=z80.a,z80.f=sz53p_table[z80.a]},t[184]=function(t){var z=z80.a-z80.b,e=(136&z80.a)>>3|(136&z80.b)>>2|(136&z)>>1;z80.f=2|(256&z?1:z?0:64)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|40&z80.b|128&z},t[185]=function(t){var z=z80.a-z80.c,e=(136&z80.a)>>3|(136&z80.c)>>2|(136&z)>>1;z80.f=2|(256&z?1:z?0:64)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|40&z80.c|128&z},t[186]=function(t){var z=z80.a-z80.d,e=(136&z80.a)>>3|(136&z80.d)>>2|(136&z)>>1;z80.f=2|(256&z?1:z?0:64)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|40&z80.d|128&z},t[187]=function(t){var z=z80.a-z80.e,e=(136&z80.a)>>3|(136&z80.e)>>2|(136&z)>>1;z80.f=2|(256&z?1:z?0:64)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|40&z80.e|128&z},t[188]=function(t){var z=z80.a-z80.h,e=(136&z80.a)>>3|(136&z80.h)>>2|(136&z)>>1;z80.f=2|(256&z?1:z?0:64)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|40&z80.h|128&z},t[189]=function(t){var z=z80.a-z80.l,e=(136&z80.a)>>3|(136&z80.l)>>2|(136&z)>>1;z80.f=2|(256&z?1:z?0:64)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|40&z80.l|128&z},t[190]=function(t){tstates+=3;var z=readbyte(z80.l|z80.h<<8),e=z80.a-z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.f=2|(256&e?1:e?0:64)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|40&z|128&e},t[191]=function(t){var z=z80.a-z80.a,e=(136&z80.a)>>3|(136&z80.a)>>2|(136&z)>>1;z80.f=2|(256&z?1:z?0:64)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|40&z80.a|128&z},t[192]=function(t){if(tstates++,!(64&z80.f)){tstates+=6;var z=readbyte(z80.sp++);z80.sp&=65535;var e=readbyte(z80.sp++);z80.sp&=65535,z80.pc=z|e<<8}},t[193]=function(t){tstates+=6,z80.c=readbyte(z80.sp++),z80.sp&=65535,z80.b=readbyte(z80.sp++),z80.sp&=65535},t[194]=function(t){if(tstates+=6,64&z80.f)z80.pc+=2;else{var z=z80.pc,e=readbyte(z++);z&=65535;var a=readbyte(z);z80.pc=e|a<<8}},t[195]=function(t){tstates+=6;var z=z80.pc,e=readbyte(z++);z&=65535;var a=readbyte(z);z80.pc=e|a<<8},t[196]=function(t){if(tstates+=6,64&z80.f)z80.pc+=2;else{var z,e;z=readbyte(z80.pc++),z80.pc&=65535,tstates++,e=readbyte(z80.pc++),z80.pc&=65535,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc);var a=z,n=e;z80.pc=a|n<<8}},t[197]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.b),z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.c)},t[198]=function(t){tstates+=3;var z=readbyte(z80.pc++),e=z80.a+z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=(256&e?1:0)|halfcarry_add_table[7&a]|overflow_add_table[a>>4]|sz53_table[z80.a]},t[199]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc),z80.pc=0},t[200]=function(t){if(tstates++,64&z80.f){tstates+=6;var z=readbyte(z80.sp++);z80.sp&=65535;var e=readbyte(z80.sp++);z80.sp&=65535,z80.pc=z|e<<8}},t[201]=function(t){tstates+=6;var z=readbyte(z80.sp++);z80.sp&=65535;var e=readbyte(z80.sp++);z80.sp&=65535,z80.pc=z|e<<8},t[202]=function(t){if(tstates+=6,64&z80.f){var z=z80.pc,e=readbyte(z++);z&=65535;var a=readbyte(z);z80.pc=e|a<<8}else z80.pc+=2},t[203]=function(t){var z;tstates+=4,z=readbyte(z80.pc++),z80.pc&=65535,z80.r=z80.r+1&127,z80_cbxx(z)},t[204]=function(t){if(tstates+=6,64&z80.f){var z,e;z=readbyte(z80.pc++),z80.pc&=65535,tstates++,e=readbyte(z80.pc++),z80.pc&=65535,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc);var a=z,n=e;z80.pc=a|n<<8}else z80.pc+=2},t[205]=function(t){tstates+=6;var z,e;z=readbyte(z80.pc++),z80.pc&=65535,tstates++,e=readbyte(z80.pc++),z80.pc&=65535,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc);var a=z,n=e;z80.pc=a|n<<8},t[206]=function(t){tstates+=3;var z=readbyte(z80.pc++),e=z80.a+z+(1&z80.f),a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=(256&e?1:0)|halfcarry_add_table[7&a]|overflow_add_table[a>>4]|sz53_table[z80.a]},t[207]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc),z80.pc=8},t[208]=function(t){if(tstates++,!(1&z80.f)){tstates+=6;var z=readbyte(z80.sp++);z80.sp&=65535;var e=readbyte(z80.sp++);z80.sp&=65535,z80.pc=z|e<<8}},t[209]=function(t){tstates+=6,z80.e=readbyte(z80.sp++),z80.sp&=65535,z80.d=readbyte(z80.sp++),z80.sp&=65535},t[210]=function(t){if(tstates+=6,1&z80.f)z80.pc+=2;else{var z=z80.pc,e=readbyte(z++);z&=65535;var a=readbyte(z);z80.pc=e|a<<8}},t[211]=function(t){var z;tstates+=4,z=readbyte(z80.pc++)+(z80.a<<8),z80.pc&=65535,tstates+=3,writeport(z,z80.a)},t[212]=function(t){if(tstates+=6,1&z80.f)z80.pc+=2;else{var z,e;z=readbyte(z80.pc++),z80.pc&=65535,tstates++,e=readbyte(z80.pc++),z80.pc&=65535,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc);var a=z,n=e;z80.pc=a|n<<8}},t[213]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.d),z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.e)},t[214]=function(t){tstates+=3;var z=readbyte(z80.pc++),e=z80.a-z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=2|(256&e?1:0)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|sz53_table[z80.a]},t[215]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc),z80.pc=16},t[216]=function(t){if(tstates++,1&z80.f){tstates+=6;var z=readbyte(z80.sp++);z80.sp&=65535;var e=readbyte(z80.sp++);z80.sp&=65535,z80.pc=z|e<<8}},t[217]=function(t){var z;z=z80.b,z80.b=z80.b_,z80.b_=z,z=z80.c,z80.c=z80.c_,z80.c_=z,z=z80.d,z80.d=z80.d_,z80.d_=z,z=z80.e,z80.e=z80.e_,z80.e_=z,z=z80.h,z80.h=z80.h_,z80.h_=z,z=z80.l,z80.l=z80.l_,z80.l_=z},t[218]=function(t){if(tstates+=6,1&z80.f){var z=z80.pc,e=readbyte(z++);z&=65535;var a=readbyte(z);z80.pc=e|a<<8}else z80.pc+=2},t[219]=function(t){var z;tstates+=4,z=readbyte(z80.pc++)+(z80.a<<8),z80.pc&=65535,tstates+=3,z80.a=readport(z)},t[220]=function(t){if(tstates+=6,1&z80.f){var z,e;z=readbyte(z80.pc++),z80.pc&=65535,tstates++,e=readbyte(z80.pc++),z80.pc&=65535,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc);var a=z,n=e;z80.pc=a|n<<8}else z80.pc+=2},t[221]=function(t){var z;tstates+=4,z=readbyte(z80.pc++),z80.pc&=65535,z80.r=z80.r+1&127,z80_ddxx(z)},t[222]=function(t){tstates+=3;var z=readbyte(z80.pc++),e=z80.a-z-(1&z80.f),a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=2|(256&e?1:0)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|sz53_table[z80.a]},t[223]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc),z80.pc=24},t[224]=function(t){if(tstates++,!(4&z80.f)){tstates+=6;var z=readbyte(z80.sp++);z80.sp&=65535;var e=readbyte(z80.sp++);z80.sp&=65535,z80.pc=z|e<<8}},t[225]=function(t){tstates+=6,z80.l=readbyte(z80.sp++),z80.sp&=65535,z80.h=readbyte(z80.sp++),z80.sp&=65535},t[226]=function(t){if(tstates+=6,4&z80.f)z80.pc+=2;else{var z=z80.pc,e=readbyte(z++);z&=65535;var a=readbyte(z);z80.pc=e|a<<8}},t[227]=function(t){var z=readbyte(z80.sp),e=readbyte(z80.sp+1);tstates+=15,writebyte(z80.sp+1,z80.h),writebyte(z80.sp,z80.l),z80.l=z,z80.h=e},t[228]=function(t){if(tstates+=6,4&z80.f)z80.pc+=2;else{var z,e;z=readbyte(z80.pc++),z80.pc&=65535,tstates++,e=readbyte(z80.pc++),z80.pc&=65535,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc);var a=z,n=e;z80.pc=a|n<<8}},t[229]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.h),z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.l)},t[230]=function(t){tstates+=3;var z=readbyte(z80.pc++);z80.a&=z,z80.f=16|sz53p_table[z80.a]},t[231]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc),z80.pc=32},t[232]=function(t){if(tstates++,4&z80.f){tstates+=6;var z=readbyte(z80.sp++);z80.sp&=65535;var e=readbyte(z80.sp++);z80.sp&=65535,z80.pc=z|e<<8}},t[233]=function(t){z80.pc=z80.l|z80.h<<8},t[234]=function(t){if(tstates+=6,4&z80.f){var z=z80.pc,e=readbyte(z++);z&=65535;var a=readbyte(z);z80.pc=e|a<<8}else z80.pc+=2},t[235]=function(t){var z;z=z80.d,z80.d=z80.h,z80.h=z,z=z80.e,z80.e=z80.l,z80.l=z},t[236]=function(t){if(tstates+=6,4&z80.f){var z,e;z=readbyte(z80.pc++),z80.pc&=65535,tstates++,e=readbyte(z80.pc++),z80.pc&=65535,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc);var a=z,n=e;z80.pc=a|n<<8}else z80.pc+=2},t[237]=function(t){var z;tstates+=4,z=readbyte(z80.pc++),z80.pc&=65535,z80.r=z80.r+1&127,z80_edxx(z)},t[238]=function(t){tstates+=3;var z=readbyte(z80.pc++);z80.a^=z,z80.f=sz53p_table[z80.a]},t[239]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc),z80.pc=40},t[240]=function(t){if(tstates++,!(128&z80.f)){tstates+=6;var z=readbyte(z80.sp++);z80.sp&=65535;var e=readbyte(z80.sp++);z80.sp&=65535,z80.pc=z|e<<8}},t[241]=function(t){tstates+=6,z80.f=readbyte(z80.sp++),z80.sp&=65535,z80.a=readbyte(z80.sp++),z80.sp&=65535},t[242]=function(t){if(tstates+=6,128&z80.f)z80.pc+=2;else{var z=z80.pc,e=readbyte(z++);z&=65535;var a=readbyte(z);z80.pc=e|a<<8}},t[243]=function(t){z80.iff1=z80.iff2=0},t[244]=function(t){if(tstates+=6,128&z80.f)z80.pc+=2;else{var z,e;z=readbyte(z80.pc++),z80.pc&=65535,tstates++,e=readbyte(z80.pc++),z80.pc&=65535,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc);var a=z,n=e;z80.pc=a|n<<8}},t[245]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.a),z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.f)},t[246]=function(t){tstates+=3;var z=readbyte(z80.pc++);z80.a|=z,z80.f=sz53p_table[z80.a]},t[247]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc),z80.pc=48},t[248]=function(t){if(tstates++,128&z80.f){tstates+=6;var z=readbyte(z80.sp++);z80.sp&=65535;var e=readbyte(z80.sp++);z80.sp&=65535,z80.pc=z|e<<8}},t[249]=function(t){tstates+=2,z80.sp=z80.l|z80.h<<8},t[250]=function(t){if(tstates+=6,128&z80.f){var z=z80.pc,e=readbyte(z++);z&=65535;var a=readbyte(z);z80.pc=e|a<<8}else z80.pc+=2},t[251]=function(t){z80.iff1=z80.iff2=1},t[252]=function(t){if(tstates+=6,128&z80.f){var z,e;z=readbyte(z80.pc++),z80.pc&=65535,tstates++,e=readbyte(z80.pc++),z80.pc&=65535,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc);var a=z,n=e;z80.pc=a|n<<8}else z80.pc+=2},t[253]=function(t){var z;tstates+=4,z=readbyte(z80.pc++),z80.pc&=65535,z80.r=z80.r+1&127,z80_fdxx(z)},t[254]=function(t){tstates+=3;var z=readbyte(z80.pc++),e=z80.a-z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.f=2|(256&e?1:e?0:64)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|40&z|128&e},t[255]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.pc>>8),z80.sp--,z80.sp&=65535,writebyte(z80.sp,255&z80.pc),z80.pc=56},t[256]=function(){},z80_defaults(t),t}(),z80_ed_ops=function(){var t=[];return t[64]=function(t){tstates+=1,tstates+=3,z80.b=readport(z80.c|z80.b<<8),z80.f=1&z80.f|sz53p_table[z80.b]},t[65]=function(t){tstates+=1,tstates+=3,writeport(z80.c|z80.b<<8,z80.b)},t[66]=function(t){tstates+=7;var z=(z80.l|z80.h<<8)-(z80.c|z80.b<<8)-(1&z80.f),e=(34816&(z80.l|z80.h<<8))>>11|(34816&(z80.c|z80.b<<8))>>10|(34816&z)>>9;z80.h=z>>8&255,z80.l=255&z,z80.f=2|(65536&z?1:0)|overflow_sub_table[e>>4]|168&z80.h|halfcarry_sub_table[7&e]|(z80.l|z80.h<<8?0:64)},t[67]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,writebyte(z++,z80.c),z&=65535,writebyte(z,z80.b)},t[68]=t[76]=t[84]=t[92]=t[100]=t[108]=t[116]=t[124]=function(t){var z=z80.a;z80.a=0;var e=z80.a-z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=2|(256&e?1:0)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|sz53_table[z80.a]},t[69]=t[77]=t[85]=t[93]=t[101]=t[109]=t[117]=t[125]=function(t){z80.iff1=z80.iff2,tstates+=6;var z=readbyte(z80.sp++);z80.sp&=65535;var e=readbyte(z80.sp++);z80.sp&=65535,z80.pc=z|e<<8},t[70]=t[78]=t[102]=t[110]=function(t){z80.im=0},t[71]=function(t){tstates+=1,z80.i=z80.a},t[72]=function(t){tstates+=1,tstates+=3,z80.c=readport(z80.c|z80.b<<8),z80.f=1&z80.f|sz53p_table[z80.c]},t[73]=function(t){tstates+=1,tstates+=3,writeport(z80.c|z80.b<<8,z80.c)},t[74]=function(t){tstates+=7;var z=(z80.l|z80.h<<8)+(z80.c|z80.b<<8)+(1&z80.f),e=(34816&(z80.l|z80.h<<8))>>11|(34816&(z80.c|z80.b<<8))>>10|(34816&z)>>9;z80.h=z>>8&255,z80.l=255&z,z80.f=(65536&z?1:0)|overflow_add_table[e>>4]|168&z80.h|halfcarry_add_table[7&e]|(z80.l|z80.h<<8?0:64)},t[75]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,z80.c=readbyte(z++),z&=65535,z80.b=readbyte(z)},t[79]=function(t){tstates+=1,z80.r=z80.r7=z80.a},t[80]=function(t){tstates+=1,tstates+=3,z80.d=readport(z80.c|z80.b<<8),z80.f=1&z80.f|sz53p_table[z80.d]},t[81]=function(t){tstates+=1,tstates+=3,writeport(z80.c|z80.b<<8,z80.d)},t[82]=function(t){tstates+=7;var z=(z80.l|z80.h<<8)-(z80.e|z80.d<<8)-(1&z80.f),e=(34816&(z80.l|z80.h<<8))>>11|(34816&(z80.e|z80.d<<8))>>10|(34816&z)>>9;z80.h=z>>8&255,z80.l=255&z,z80.f=2|(65536&z?1:0)|overflow_sub_table[e>>4]|168&z80.h|halfcarry_sub_table[7&e]|(z80.l|z80.h<<8?0:64)},t[83]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,writebyte(z++,z80.e),z&=65535,writebyte(z,z80.d)},t[86]=t[118]=function(t){z80.im=1},t[87]=function(t){tstates+=1,z80.a=z80.i,z80.f=1&z80.f|sz53_table[z80.a]|(z80.iff2?4:0)},t[88]=function(t){tstates+=1,tstates+=3,z80.e=readport(z80.c|z80.b<<8),z80.f=1&z80.f|sz53p_table[z80.e]},t[89]=function(t){tstates+=1,tstates+=3,writeport(z80.c|z80.b<<8,z80.e)},t[90]=function(t){tstates+=7;var z=(z80.l|z80.h<<8)+(z80.e|z80.d<<8)+(1&z80.f),e=(34816&(z80.l|z80.h<<8))>>11|(34816&(z80.e|z80.d<<8))>>10|(34816&z)>>9;z80.h=z>>8&255,z80.l=255&z,z80.f=(65536&z?1:0)|overflow_add_table[e>>4]|168&z80.h|halfcarry_add_table[7&e]|(z80.l|z80.h<<8?0:64)},t[91]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,z80.e=readbyte(z++),z&=65535,z80.d=readbyte(z)},t[94]=t[126]=function(t){z80.im=2},t[95]=function(t){tstates+=1,z80.a=127&z80.r|128&z80.r7,z80.f=1&z80.f|sz53_table[z80.a]|(z80.iff2?4:0)},t[96]=function(t){tstates+=1,tstates+=3,z80.h=readport(z80.c|z80.b<<8),z80.f=1&z80.f|sz53p_table[z80.h]},t[97]=function(t){tstates+=1,tstates+=3,writeport(z80.c|z80.b<<8,z80.h)},t[98]=function(t){tstates+=7;var z=(z80.l|z80.h<<8)-(z80.l|z80.h<<8)-(1&z80.f),e=(34816&(z80.l|z80.h<<8))>>11|(34816&(z80.l|z80.h<<8))>>10|(34816&z)>>9;z80.h=z>>8&255,z80.l=255&z,z80.f=2|(65536&z?1:0)|overflow_sub_table[e>>4]|168&z80.h|halfcarry_sub_table[7&e]|(z80.l|z80.h<<8?0:64)},t[99]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,writebyte(z++,z80.l),z&=65535,writebyte(z,z80.h)},t[103]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=10,writebyte(z80.l|z80.h<<8,(15&z80.a)<<4|z>>4),z80.a=240&z80.a|15&z,z80.f=1&z80.f|sz53p_table[z80.a]},t[104]=function(t){tstates+=1,tstates+=3,z80.l=readport(z80.c|z80.b<<8),z80.f=1&z80.f|sz53p_table[z80.l]},t[105]=function(t){tstates+=1,tstates+=3,writeport(z80.c|z80.b<<8,z80.l)},t[106]=function(t){tstates+=7;var z=(z80.l|z80.h<<8)+(z80.l|z80.h<<8)+(1&z80.f),e=(34816&(z80.l|z80.h<<8))>>11|(34816&(z80.l|z80.h<<8))>>10|(34816&z)>>9;z80.h=z>>8&255,z80.l=255&z,z80.f=(65536&z?1:0)|overflow_add_table[e>>4]|168&z80.h|halfcarry_add_table[7&e]|(z80.l|z80.h<<8?0:64)},t[107]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,z80.l=readbyte(z++),z&=65535,z80.h=readbyte(z)},t[111]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=10,writebyte(z80.l|z80.h<<8,(15&z)<<4|15&z80.a),z80.a=240&z80.a|z>>4,z80.f=1&z80.f|sz53p_table[z80.a]},t[112]=function(t){tstates+=1;var z;tstates+=3,z=readport(z80.c|z80.b<<8),z80.f=1&z80.f|sz53p_table[z]},t[113]=function(t){tstates+=1,tstates+=3,writeport(z80.c|z80.b<<8,0)},t[114]=function(t){tstates+=7;var z=(z80.l|z80.h<<8)-z80.sp-(1&z80.f),e=(34816&(z80.l|z80.h<<8))>>11|(34816&z80.sp)>>10|(34816&z)>>9;z80.h=z>>8&255,z80.l=255&z,z80.f=2|(65536&z?1:0)|overflow_sub_table[e>>4]|168&z80.h|halfcarry_sub_table[7&e]|(z80.l|z80.h<<8?0:64)},t[115]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,writebyte(z++,255&z80.sp),z&=65535,writebyte(z,z80.sp>>8)},t[120]=function(t){tstates+=1,tstates+=3,z80.a=readport(z80.c|z80.b<<8),z80.f=1&z80.f|sz53p_table[z80.a]},t[121]=function(t){tstates+=1,tstates+=3,writeport(z80.c|z80.b<<8,z80.a)},t[122]=function(t){tstates+=7;var z=(z80.l|z80.h<<8)+z80.sp+(1&z80.f),e=(34816&(z80.l|z80.h<<8))>>11|(34816&z80.sp)>>10|(34816&z)>>9;z80.h=z>>8&255,z80.l=255&z,z80.f=(65536&z?1:0)|overflow_add_table[e>>4]|168&z80.h|halfcarry_add_table[7&e]|(z80.l|z80.h<<8?0:64)},t[123]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535;var e=readbyte(z++);z&=65535;var a=readbyte(z);z80.sp=e|a<<8},t[160]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=8;var e=(z80.c|z80.b<<8)-1&65535;z80.b=e>>8,z80.c=255&e,writebyte(z80.e|z80.d<<8,z);var a=(z80.e|z80.d<<8)+1&65535;z80.d=a>>8,z80.e=255&a;var n=(z80.l|z80.h<<8)+1&65535;z80.h=n>>8,z80.l=255&n,z=z+z80.a&255,z80.f=193&z80.f|(z80.c|z80.b<<8?4:0)|8&z|(2&z?32:0)},t[161]=function(t){var z=readbyte(z80.l|z80.h<<8),e=z80.a-z&255,a=(8&z80.a)>>3|(8&z)>>2|(8&e)>>1;tstates+=8;var n=(z80.l|z80.h<<8)+1&65535;z80.h=n>>8,z80.l=255&n;var r=(z80.c|z80.b<<8)-1&65535;z80.b=r>>8,z80.c=255&r,z80.f=1&z80.f|(z80.c|z80.b<<8?6:2)|halfcarry_sub_table[a]|(e?0:64)|128&e,16&z80.f&&e--,z80.f|=8&e|(2&e?32:0)},t[162]=function(t){var z=readport(z80.c|z80.b<<8);tstates+=5,tstates+=3,writebyte(z80.l|z80.h<<8,z),z80.b=z80.b-1&255;var e=(z80.l|z80.h<<8)+1&65535;z80.h=e>>8,z80.l=255&e,z80.f=(128&z?2:0)|sz53_table[z80.b]},t[163]=function(t){var z=readbyte(z80.l|z80.h<<8);z80.b=z80.b-1&255,tstates+=5,tstates+=3;var e=(z80.l|z80.h<<8)+1&65535;z80.h=e>>8,z80.l=255&e,writeport(z80.c|z80.b<<8,z),z80.f=(128&z?2:0)|sz53_table[z80.b]},t[168]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=8;var e=(z80.c|z80.b<<8)-1&65535;z80.b=e>>8,z80.c=255&e,writebyte(z80.e|z80.d<<8,z);var a=(z80.e|z80.d<<8)-1&65535;z80.d=a>>8,z80.e=255&a;var n=(z80.l|z80.h<<8)-1&65535;z80.h=n>>8,z80.l=255&n,z=z+z80.a&255,z80.f=193&z80.f|(z80.c|z80.b<<8?4:0)|8&z|(2&z?32:0)},t[169]=function(t){var z=readbyte(z80.l|z80.h<<8),e=z80.a-z&255,a=(8&z80.a)>>3|(8&z)>>2|(8&e)>>1;tstates+=8;var n=(z80.l|z80.h<<8)-1&65535;z80.h=n>>8,z80.l=255&n;var r=(z80.c|z80.b<<8)-1&65535;z80.b=r>>8,z80.c=255&r,z80.f=1&z80.f|(z80.c|z80.b<<8?6:2)|halfcarry_sub_table[a]|(e?0:64)|128&e,16&z80.f&&e--,z80.f|=8&e|(2&e?32:0)},t[170]=function(t){var z=readport(z80.c|z80.b<<8);tstates+=5,tstates+=3,writebyte(z80.l|z80.h<<8,z),z80.b=z80.b-1&255;var e=(z80.l|z80.h<<8)-1&65535;z80.h=e>>8,z80.l=255&e,z80.f=(128&z?2:0)|sz53_table[z80.b]},t[171]=function(t){var z=readbyte(z80.l|z80.h<<8);z80.b=z80.b-1&255,tstates+=5,tstates+=3;var e=(z80.l|z80.h<<8)-1&65535;z80.h=e>>8,z80.l=255&e,writeport(z80.c|z80.b<<8,z),z80.f=(128&z?2:0)|sz53_table[z80.b]},t[176]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=8,writebyte(z80.e|z80.d<<8,z);var e=(z80.l|z80.h<<8)+1&65535;z80.h=e>>8,z80.l=255&e;var a=(z80.e|z80.d<<8)+1&65535;z80.d=a>>8,z80.e=255&a;var n=(z80.c|z80.b<<8)-1&65535;z80.b=n>>8,z80.c=255&n,z=z+z80.a&255,z80.f=193&z80.f|(z80.c|z80.b<<8?4:0)|8&z|(2&z?32:0),z80.c|z80.b<<8&&(tstates+=5,z80.pc-=2)},t[177]=function(t){var z=readbyte(z80.l|z80.h<<8),e=z80.a-z&255,a=(8&z80.a)>>3|(8&z)>>2|(8&e)>>1;tstates+=8;var n=(z80.l|z80.h<<8)+1&65535;z80.h=n>>8,z80.l=255&n;var r=(z80.c|z80.b<<8)-1&65535;z80.b=r>>8,z80.c=255&r,z80.f=1&z80.f|(z80.c|z80.b<<8?6:2)|halfcarry_sub_table[a]|(e?0:64)|128&e,16&z80.f&&e--,z80.f|=8&e|(2&e?32:0),4==(68&z80.f)&&(tstates+=5,z80.pc-=2)},t[178]=function(t){var z=readport(z80.c|z80.b<<8);tstates+=5,tstates+=3,writebyte(z80.l|z80.h<<8,z),z80.b=z80.b-1&255;var e=(z80.l|z80.h<<8)+1&65535;z80.h=e>>8,z80.l=255&e,z80.f=(128&z?2:0)|sz53_table[z80.b],z80.b&&(tstates+=5,z80.pc-=2)},t[179]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=5,z80.b=z80.b-1&255;var e=(z80.l|z80.h<<8)+1&65535;z80.h=e>>8,z80.l=255&e,writeport(z80.c|z80.b<<8,z),z80.f=(128&z?2:0)|sz53_table[z80.b],z80.b?(tstates+=1,tstates+=7,z80.pc-=2):tstates+=3},t[184]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=8,writebyte(z80.e|z80.d<<8,z);var e=(z80.l|z80.h<<8)-1&65535;z80.h=e>>8,z80.l=255&e;var a=(z80.e|z80.d<<8)-1&65535;z80.d=a>>8,z80.e=255&a;var n=(z80.c|z80.b<<8)-1&65535;z80.b=n>>8,z80.c=255&n,z=z+z80.a&255,z80.f=193&z80.f|(z80.c|z80.b<<8?4:0)|8&z|(2&z?32:0),z80.c|z80.b<<8&&(tstates+=5,z80.pc-=2)},t[185]=function(t){var z=readbyte(z80.l|z80.h<<8),e=z80.a-z&255,a=(8&z80.a)>>3|(8&z)>>2|(8&e)>>1;tstates+=8;var n=(z80.l|z80.h<<8)-1&65535;z80.h=n>>8,z80.l=255&n;var r=(z80.c|z80.b<<8)-1&65535;z80.b=r>>8,z80.c=255&r,z80.f=1&z80.f|(z80.c|z80.b<<8?6:2)|halfcarry_sub_table[a]|(e?0:64)|128&e,16&z80.f&&e--,z80.f|=8&e|(2&e?32:0),4==(68&z80.f)&&(tstates+=5,z80.pc-=2)},t[186]=function(t){var z=readport(z80.c|z80.b<<8);tstates+=5,tstates+=3,writebyte(z80.l|z80.h<<8,z),z80.b=z80.b-1&255;var e=(z80.l|z80.h<<8)-1&65535;z80.h=e>>8,z80.l=255&e,z80.f=(128&z?2:0)|sz53_table[z80.b],z80.b&&(tstates+=5,z80.pc-=2)},t[187]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=5,z80.b=z80.b-1&255;var e=(z80.l|z80.h<<8)-1&65535;z80.h=e>>8,z80.l=255&e,writeport(z80.c|z80.b<<8,z),z80.f=(128&z?2:0)|sz53_table[z80.b],z80.b?(tstates+=1,tstates+=7,z80.pc-=2):tstates+=3},t[256]=function(){},z80_defaults(t),t}(),z80_cb_ops=function(){var t=[];return t[0]=function(t){z80.b=(127&z80.b)<<1|z80.b>>7,z80.f=1&z80.b|sz53p_table[z80.b]},t[1]=function(t){z80.c=(127&z80.c)<<1|z80.c>>7,z80.f=1&z80.c|sz53p_table[z80.c]},t[2]=function(t){z80.d=(127&z80.d)<<1|z80.d>>7,z80.f=1&z80.d|sz53p_table[z80.d]},t[3]=function(t){z80.e=(127&z80.e)<<1|z80.e>>7,z80.f=1&z80.e|sz53p_table[z80.e]},t[4]=function(t){z80.h=(127&z80.h)<<1|z80.h>>7,z80.f=1&z80.h|sz53p_table[z80.h]},t[5]=function(t){z80.l=(127&z80.l)<<1|z80.l>>7,z80.f=1&z80.l|sz53p_table[z80.l]},t[6]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=7,z=(127&z)<<1|z>>7,z80.f=1&z|sz53p_table[z],writebyte(z80.l|z80.h<<8,z)},t[7]=function(t){z80.a=(127&z80.a)<<1|z80.a>>7,z80.f=1&z80.a|sz53p_table[z80.a]},t[8]=function(t){z80.f=1&z80.b,z80.b=z80.b>>1|(1&z80.b)<<7,z80.f|=sz53p_table[z80.b]},t[9]=function(t){z80.f=1&z80.c,z80.c=z80.c>>1|(1&z80.c)<<7,z80.f|=sz53p_table[z80.c]},t[10]=function(t){z80.f=1&z80.d,z80.d=z80.d>>1|(1&z80.d)<<7,z80.f|=sz53p_table[z80.d]},t[11]=function(t){z80.f=1&z80.e,z80.e=z80.e>>1|(1&z80.e)<<7,z80.f|=sz53p_table[z80.e]},t[12]=function(t){z80.f=1&z80.h,z80.h=z80.h>>1|(1&z80.h)<<7,z80.f|=sz53p_table[z80.h]},t[13]=function(t){z80.f=1&z80.l,z80.l=z80.l>>1|(1&z80.l)<<7,z80.f|=sz53p_table[z80.l]},t[14]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=7,z80.f=1&z,z=z>>1|(1&z)<<7,z80.f|=sz53p_table[z],writebyte(z80.l|z80.h<<8,z)},t[15]=function(t){z80.f=1&z80.a,z80.a=z80.a>>1|(1&z80.a)<<7,z80.f|=sz53p_table[z80.a]},t[16]=function(t){var z=z80.b;z80.b=(127&z80.b)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.b]},t[17]=function(t){var z=z80.c;z80.c=(127&z80.c)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.c]},t[18]=function(t){var z=z80.d;z80.d=(127&z80.d)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.d]},t[19]=function(t){var z=z80.e;z80.e=(127&z80.e)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.e]},t[20]=function(t){var z=z80.h;z80.h=(127&z80.h)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.h]},t[21]=function(t){var z=z80.l;z80.l=(127&z80.l)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.l]},t[22]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=7;var e=z;z=(127&z)<<1|1&z80.f,z80.f=e>>7|sz53p_table[z],writebyte(z80.l|z80.h<<8,z)},t[23]=function(t){var z=z80.a;z80.a=(127&z80.a)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.a]},t[24]=function(t){var z=z80.b;z80.b=z80.b>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.b]},t[25]=function(t){var z=z80.c;z80.c=z80.c>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.c]},t[26]=function(t){var z=z80.d;z80.d=z80.d>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.d]},t[27]=function(t){var z=z80.e;z80.e=z80.e>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.e]},t[28]=function(t){var z=z80.h;z80.h=z80.h>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.h]},t[29]=function(t){var z=z80.l;z80.l=z80.l>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.l]},t[30]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=7;var e=z;z=z>>1|(1&z80.f)<<7,z80.f=1&e|sz53p_table[z],writebyte(z80.l|z80.h<<8,z)},t[31]=function(t){var z=z80.a;z80.a=z80.a>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.a]},t[32]=function(t){z80.f=z80.b>>7,z80.b<<=1,z80.b&=255,z80.f|=sz53p_table[z80.b]},t[33]=function(t){z80.f=z80.c>>7,z80.c<<=1,z80.c&=255,z80.f|=sz53p_table[z80.c]},t[34]=function(t){z80.f=z80.d>>7,z80.d<<=1,z80.d&=255,z80.f|=sz53p_table[z80.d]},t[35]=function(t){z80.f=z80.e>>7,z80.e<<=1,z80.e&=255,z80.f|=sz53p_table[z80.e]},t[36]=function(t){z80.f=z80.h>>7,z80.h<<=1,z80.h&=255,z80.f|=sz53p_table[z80.h]},t[37]=function(t){z80.f=z80.l>>7,z80.l<<=1,z80.l&=255,z80.f|=sz53p_table[z80.l]},t[38]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=7,z80.f=z>>7,z<<=1,z&=255,z80.f|=sz53p_table[z],writebyte(z80.l|z80.h<<8,z)},t[39]=function(t){z80.f=z80.a>>7,z80.a<<=1,z80.a&=255,z80.f|=sz53p_table[z80.a]},t[40]=function(t){z80.f=1&z80.b,z80.b=128&z80.b|z80.b>>1,z80.f|=sz53p_table[z80.b]},t[41]=function(t){z80.f=1&z80.c,z80.c=128&z80.c|z80.c>>1,z80.f|=sz53p_table[z80.c]},t[42]=function(t){z80.f=1&z80.d,z80.d=128&z80.d|z80.d>>1,z80.f|=sz53p_table[z80.d]},t[43]=function(t){z80.f=1&z80.e,z80.e=128&z80.e|z80.e>>1,z80.f|=sz53p_table[z80.e]},t[44]=function(t){z80.f=1&z80.h,z80.h=128&z80.h|z80.h>>1,z80.f|=sz53p_table[z80.h]},t[45]=function(t){z80.f=1&z80.l,z80.l=128&z80.l|z80.l>>1,z80.f|=sz53p_table[z80.l]},t[46]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=7,z80.f=1&z,z=128&z|z>>1,z80.f|=sz53p_table[z],writebyte(z80.l|z80.h<<8,z)},t[47]=function(t){z80.f=1&z80.a,z80.a=128&z80.a|z80.a>>1,z80.f|=sz53p_table[z80.a]},t[48]=function(t){z80.f=z80.b>>7,z80.b=z80.b<<1|1,z80.b&=255,z80.f|=sz53p_table[z80.b]},t[49]=function(t){z80.f=z80.c>>7,z80.c=z80.c<<1|1,z80.c&=255,z80.f|=sz53p_table[z80.c]},t[50]=function(t){z80.f=z80.d>>7,z80.d=z80.d<<1|1,z80.d&=255,z80.f|=sz53p_table[z80.d]},t[51]=function(t){z80.f=z80.e>>7,z80.e=z80.e<<1|1,z80.e&=255,z80.f|=sz53p_table[z80.e]},t[52]=function(t){z80.f=z80.h>>7,z80.h=z80.h<<1|1,z80.h&=255,z80.f|=sz53p_table[z80.h]},t[53]=function(t){z80.f=z80.l>>7,z80.l=z80.l<<1|1,z80.l&=255,z80.f|=sz53p_table[z80.l]},t[54]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=7,z80.f=z>>7,z=z<<1|1,z&=255,z80.f|=sz53p_table[z],writebyte(z80.l|z80.h<<8,z)},t[55]=function(t){z80.f=z80.a>>7,z80.a=z80.a<<1|1,z80.a&=255,z80.f|=sz53p_table[z80.a]},t[56]=function(t){z80.f=1&z80.b,z80.b>>=1,z80.f|=sz53p_table[z80.b]},t[57]=function(t){z80.f=1&z80.c,z80.c>>=1,z80.f|=sz53p_table[z80.c]},t[58]=function(t){z80.f=1&z80.d,z80.d>>=1,z80.f|=sz53p_table[z80.d]},t[59]=function(t){z80.f=1&z80.e,z80.e>>=1,z80.f|=sz53p_table[z80.e]},t[60]=function(t){z80.f=1&z80.h,z80.h>>=1,z80.f|=sz53p_table[z80.h]},t[61]=function(t){z80.f=1&z80.l,z80.l>>=1,z80.f|=sz53p_table[z80.l]},t[62]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=7,z80.f=1&z,z>>=1,z80.f|=sz53p_table[z],writebyte(z80.l|z80.h<<8,z)},t[63]=function(t){z80.f=1&z80.a,z80.a>>=1,z80.f|=sz53p_table[z80.a]},t[64]=function(t){z80.f=1&z80.f|16|40&z80.b,1&z80.b||(z80.f|=68)},t[65]=function(t){z80.f=1&z80.f|16|40&z80.c,1&z80.c||(z80.f|=68)},t[66]=function(t){z80.f=1&z80.f|16|40&z80.d,1&z80.d||(z80.f|=68)},t[67]=function(t){z80.f=1&z80.f|16|40&z80.e,1&z80.e||(z80.f|=68)},t[68]=function(t){z80.f=1&z80.f|16|40&z80.h,1&z80.h||(z80.f|=68)},t[69]=function(t){z80.f=1&z80.f|16|40&z80.l,1&z80.l||(z80.f|=68)},t[70]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=4,z80.f=1&z80.f|16|40&z,1&z||(z80.f|=68)},t[71]=function(t){z80.f=1&z80.f|16|40&z80.a,1&z80.a||(z80.f|=68)},t[72]=function(t){z80.f=1&z80.f|16|40&z80.b,2&z80.b||(z80.f|=68)},t[73]=function(t){z80.f=1&z80.f|16|40&z80.c,2&z80.c||(z80.f|=68)},t[74]=function(t){z80.f=1&z80.f|16|40&z80.d,2&z80.d||(z80.f|=68)},t[75]=function(t){z80.f=1&z80.f|16|40&z80.e,2&z80.e||(z80.f|=68)},t[76]=function(t){z80.f=1&z80.f|16|40&z80.h,2&z80.h||(z80.f|=68)},t[77]=function(t){z80.f=1&z80.f|16|40&z80.l,2&z80.l||(z80.f|=68)},t[78]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=4,z80.f=1&z80.f|16|40&z,2&z||(z80.f|=68)},t[79]=function(t){z80.f=1&z80.f|16|40&z80.a,2&z80.a||(z80.f|=68)},t[80]=function(t){z80.f=1&z80.f|16|40&z80.b,4&z80.b||(z80.f|=68)},t[81]=function(t){z80.f=1&z80.f|16|40&z80.c,4&z80.c||(z80.f|=68)},t[82]=function(t){z80.f=1&z80.f|16|40&z80.d,4&z80.d||(z80.f|=68)},t[83]=function(t){z80.f=1&z80.f|16|40&z80.e,4&z80.e||(z80.f|=68)},t[84]=function(t){z80.f=1&z80.f|16|40&z80.h,4&z80.h||(z80.f|=68)},t[85]=function(t){z80.f=1&z80.f|16|40&z80.l,4&z80.l||(z80.f|=68)},t[86]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=4,z80.f=1&z80.f|16|40&z,4&z||(z80.f|=68)},t[87]=function(t){z80.f=1&z80.f|16|40&z80.a,4&z80.a||(z80.f|=68)},t[88]=function(t){z80.f=1&z80.f|16|40&z80.b,8&z80.b||(z80.f|=68)},t[89]=function(t){z80.f=1&z80.f|16|40&z80.c,8&z80.c||(z80.f|=68)},t[90]=function(t){z80.f=1&z80.f|16|40&z80.d,8&z80.d||(z80.f|=68)},t[91]=function(t){z80.f=1&z80.f|16|40&z80.e,8&z80.e||(z80.f|=68)},t[92]=function(t){z80.f=1&z80.f|16|40&z80.h,8&z80.h||(z80.f|=68)},t[93]=function(t){z80.f=1&z80.f|16|40&z80.l,8&z80.l||(z80.f|=68)},t[94]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=4,z80.f=1&z80.f|16|40&z,8&z||(z80.f|=68)},t[95]=function(t){z80.f=1&z80.f|16|40&z80.a,8&z80.a||(z80.f|=68)},t[96]=function(t){z80.f=1&z80.f|16|40&z80.b,16&z80.b||(z80.f|=68)},t[97]=function(t){z80.f=1&z80.f|16|40&z80.c,16&z80.c||(z80.f|=68)},t[98]=function(t){z80.f=1&z80.f|16|40&z80.d,16&z80.d||(z80.f|=68)},t[99]=function(t){z80.f=1&z80.f|16|40&z80.e,16&z80.e||(z80.f|=68)},t[100]=function(t){z80.f=1&z80.f|16|40&z80.h,16&z80.h||(z80.f|=68)},t[101]=function(t){z80.f=1&z80.f|16|40&z80.l,16&z80.l||(z80.f|=68)},t[102]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=4,z80.f=1&z80.f|16|40&z,16&z||(z80.f|=68)},t[103]=function(t){z80.f=1&z80.f|16|40&z80.a,16&z80.a||(z80.f|=68)},t[104]=function(t){z80.f=1&z80.f|16|40&z80.b,32&z80.b||(z80.f|=68)},t[105]=function(t){z80.f=1&z80.f|16|40&z80.c,32&z80.c||(z80.f|=68)},t[106]=function(t){z80.f=1&z80.f|16|40&z80.d,32&z80.d||(z80.f|=68)},t[107]=function(t){z80.f=1&z80.f|16|40&z80.e,32&z80.e||(z80.f|=68)},t[108]=function(t){z80.f=1&z80.f|16|40&z80.h,32&z80.h||(z80.f|=68)},t[109]=function(t){z80.f=1&z80.f|16|40&z80.l,32&z80.l||(z80.f|=68)},t[110]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=4,z80.f=1&z80.f|16|40&z,32&z||(z80.f|=68)},t[111]=function(t){z80.f=1&z80.f|16|40&z80.a,32&z80.a||(z80.f|=68)},t[112]=function(t){z80.f=1&z80.f|16|40&z80.b,64&z80.b||(z80.f|=68)},t[113]=function(t){z80.f=1&z80.f|16|40&z80.c,64&z80.c||(z80.f|=68)},t[114]=function(t){z80.f=1&z80.f|16|40&z80.d,64&z80.d||(z80.f|=68)},t[115]=function(t){z80.f=1&z80.f|16|40&z80.e,64&z80.e||(z80.f|=68)},t[116]=function(t){z80.f=1&z80.f|16|40&z80.h,64&z80.h||(z80.f|=68)},t[117]=function(t){z80.f=1&z80.f|16|40&z80.l,64&z80.l||(z80.f|=68)},t[118]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=4,z80.f=1&z80.f|16|40&z,64&z||(z80.f|=68)},t[119]=function(t){z80.f=1&z80.f|16|40&z80.a,64&z80.a||(z80.f|=68)},t[120]=function(t){z80.f=1&z80.f|16|40&z80.b,128&z80.b||(z80.f|=68),128&z80.b&&(z80.f|=128)},t[121]=function(t){z80.f=1&z80.f|16|40&z80.c,128&z80.c||(z80.f|=68),
128&z80.c&&(z80.f|=128)},t[122]=function(t){z80.f=1&z80.f|16|40&z80.d,128&z80.d||(z80.f|=68),128&z80.d&&(z80.f|=128)},t[123]=function(t){z80.f=1&z80.f|16|40&z80.e,128&z80.e||(z80.f|=68),128&z80.e&&(z80.f|=128)},t[124]=function(t){z80.f=1&z80.f|16|40&z80.h,128&z80.h||(z80.f|=68),128&z80.h&&(z80.f|=128)},t[125]=function(t){z80.f=1&z80.f|16|40&z80.l,128&z80.l||(z80.f|=68),128&z80.l&&(z80.f|=128)},t[126]=function(t){var z=readbyte(z80.l|z80.h<<8);tstates+=4,z80.f=1&z80.f|16|40&z,128&z||(z80.f|=68),128&z&&(z80.f|=128)},t[127]=function(t){z80.f=1&z80.f|16|40&z80.a,128&z80.a||(z80.f|=68),128&z80.a&&(z80.f|=128)},t[128]=function(t){z80.b&=254},t[129]=function(t){z80.c&=254},t[130]=function(t){z80.d&=254},t[131]=function(t){z80.e&=254},t[132]=function(t){z80.h&=254},t[133]=function(t){z80.l&=254},t[134]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,254&readbyte(z80.l|z80.h<<8))},t[135]=function(t){z80.a&=254},t[136]=function(t){z80.b&=253},t[137]=function(t){z80.c&=253},t[138]=function(t){z80.d&=253},t[139]=function(t){z80.e&=253},t[140]=function(t){z80.h&=253},t[141]=function(t){z80.l&=253},t[142]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,253&readbyte(z80.l|z80.h<<8))},t[143]=function(t){z80.a&=253},t[144]=function(t){z80.b&=251},t[145]=function(t){z80.c&=251},t[146]=function(t){z80.d&=251},t[147]=function(t){z80.e&=251},t[148]=function(t){z80.h&=251},t[149]=function(t){z80.l&=251},t[150]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,251&readbyte(z80.l|z80.h<<8))},t[151]=function(t){z80.a&=251},t[152]=function(t){z80.b&=247},t[153]=function(t){z80.c&=247},t[154]=function(t){z80.d&=247},t[155]=function(t){z80.e&=247},t[156]=function(t){z80.h&=247},t[157]=function(t){z80.l&=247},t[158]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,247&readbyte(z80.l|z80.h<<8))},t[159]=function(t){z80.a&=247},t[160]=function(t){z80.b&=239},t[161]=function(t){z80.c&=239},t[162]=function(t){z80.d&=239},t[163]=function(t){z80.e&=239},t[164]=function(t){z80.h&=239},t[165]=function(t){z80.l&=239},t[166]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,239&readbyte(z80.l|z80.h<<8))},t[167]=function(t){z80.a&=239},t[168]=function(t){z80.b&=223},t[169]=function(t){z80.c&=223},t[170]=function(t){z80.d&=223},t[171]=function(t){z80.e&=223},t[172]=function(t){z80.h&=223},t[173]=function(t){z80.l&=223},t[174]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,223&readbyte(z80.l|z80.h<<8))},t[175]=function(t){z80.a&=223},t[176]=function(t){z80.b&=191},t[177]=function(t){z80.c&=191},t[178]=function(t){z80.d&=191},t[179]=function(t){z80.e&=191},t[180]=function(t){z80.h&=191},t[181]=function(t){z80.l&=191},t[182]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,191&readbyte(z80.l|z80.h<<8))},t[183]=function(t){z80.a&=191},t[184]=function(t){z80.b&=127},t[185]=function(t){z80.c&=127},t[186]=function(t){z80.d&=127},t[187]=function(t){z80.e&=127},t[188]=function(t){z80.h&=127},t[189]=function(t){z80.l&=127},t[190]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,127&readbyte(z80.l|z80.h<<8))},t[191]=function(t){z80.a&=127},t[192]=function(t){z80.b|=1},t[193]=function(t){z80.c|=1},t[194]=function(t){z80.d|=1},t[195]=function(t){z80.e|=1},t[196]=function(t){z80.h|=1},t[197]=function(t){z80.l|=1},t[198]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,1|readbyte(z80.l|z80.h<<8))},t[199]=function(t){z80.a|=1},t[200]=function(t){z80.b|=2},t[201]=function(t){z80.c|=2},t[202]=function(t){z80.d|=2},t[203]=function(t){z80.e|=2},t[204]=function(t){z80.h|=2},t[205]=function(t){z80.l|=2},t[206]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,2|readbyte(z80.l|z80.h<<8))},t[207]=function(t){z80.a|=2},t[208]=function(t){z80.b|=4},t[209]=function(t){z80.c|=4},t[210]=function(t){z80.d|=4},t[211]=function(t){z80.e|=4},t[212]=function(t){z80.h|=4},t[213]=function(t){z80.l|=4},t[214]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,4|readbyte(z80.l|z80.h<<8))},t[215]=function(t){z80.a|=4},t[216]=function(t){z80.b|=8},t[217]=function(t){z80.c|=8},t[218]=function(t){z80.d|=8},t[219]=function(t){z80.e|=8},t[220]=function(t){z80.h|=8},t[221]=function(t){z80.l|=8},t[222]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,8|readbyte(z80.l|z80.h<<8))},t[223]=function(t){z80.a|=8},t[224]=function(t){z80.b|=16},t[225]=function(t){z80.c|=16},t[226]=function(t){z80.d|=16},t[227]=function(t){z80.e|=16},t[228]=function(t){z80.h|=16},t[229]=function(t){z80.l|=16},t[230]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,16|readbyte(z80.l|z80.h<<8))},t[231]=function(t){z80.a|=16},t[232]=function(t){z80.b|=32},t[233]=function(t){z80.c|=32},t[234]=function(t){z80.d|=32},t[235]=function(t){z80.e|=32},t[236]=function(t){z80.h|=32},t[237]=function(t){z80.l|=32},t[238]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,32|readbyte(z80.l|z80.h<<8))},t[239]=function(t){z80.a|=32},t[240]=function(t){z80.b|=64},t[241]=function(t){z80.c|=64},t[242]=function(t){z80.d|=64},t[243]=function(t){z80.e|=64},t[244]=function(t){z80.h|=64},t[245]=function(t){z80.l|=64},t[246]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,64|readbyte(z80.l|z80.h<<8))},t[247]=function(t){z80.a|=64},t[248]=function(t){z80.b|=128},t[249]=function(t){z80.c|=128},t[250]=function(t){z80.d|=128},t[251]=function(t){z80.e|=128},t[252]=function(t){z80.h|=128},t[253]=function(t){z80.l|=128},t[254]=function(t){tstates+=7,writebyte(z80.l|z80.h<<8,128|readbyte(z80.l|z80.h<<8))},t[255]=function(t){z80.a|=128},t[256]=function(){},z80_defaults(t),t}(),z80_dd_ops=function(){var t=[];return t[9]=function(t){var z=(z80.ixl|z80.ixh<<8)+(z80.c|z80.b<<8),e=(2048&(z80.ixl|z80.ixh<<8))>>11|(2048&(z80.c|z80.b<<8))>>10|(2048&z)>>9;tstates+=7,z80.ixh=z>>8&255,z80.ixl=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[25]=function(t){var z=(z80.ixl|z80.ixh<<8)+(z80.e|z80.d<<8),e=(2048&(z80.ixl|z80.ixh<<8))>>11|(2048&(z80.e|z80.d<<8))>>10|(2048&z)>>9;tstates+=7,z80.ixh=z>>8&255,z80.ixl=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[33]=function(t){tstates+=6,z80.ixl=readbyte(z80.pc++),z80.pc&=65535,z80.ixh=readbyte(z80.pc++),z80.pc&=65535},t[34]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,writebyte(z++,z80.ixl),z&=65535,writebyte(z,z80.ixh)},t[35]=function(t){tstates+=2;var z=(z80.ixl|z80.ixh<<8)+1&65535;z80.ixh=z>>8,z80.ixl=255&z},t[36]=function(t){z80.ixh=z80.ixh+1&255,z80.f=1&z80.f|(128==z80.ixh?4:0)|(15&z80.ixh?0:16)|sz53_table[z80.ixh]},t[37]=function(t){z80.f=1&z80.f|(15&z80.ixh?0:16)|2,z80.ixh=z80.ixh-1&255,z80.f|=(127==z80.ixh?4:0)|sz53_table[z80.ixh]},t[38]=function(t){tstates+=3,z80.ixh=readbyte(z80.pc++),z80.pc&=65535},t[41]=function(t){var z=(z80.ixl|z80.ixh<<8)+(z80.ixl|z80.ixh<<8),e=(2048&(z80.ixl|z80.ixh<<8))>>11|(2048&(z80.ixl|z80.ixh<<8))>>10|(2048&z)>>9;tstates+=7,z80.ixh=z>>8&255,z80.ixl=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[42]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,z80.ixl=readbyte(z++),z&=65535,z80.ixh=readbyte(z)},t[43]=function(t){tstates+=2;var z=(z80.ixl|z80.ixh<<8)-1&65535;z80.ixh=z>>8,z80.ixl=255&z},t[44]=function(t){z80.ixl=z80.ixl+1&255,z80.f=1&z80.f|(128==z80.ixl?4:0)|(15&z80.ixl?0:16)|sz53_table[z80.ixl]},t[45]=function(t){z80.f=1&z80.f|(15&z80.ixl?0:16)|2,z80.ixl=z80.ixl-1&255,z80.f|=(127==z80.ixl?4:0)|sz53_table[z80.ixl]},t[46]=function(t){tstates+=3,z80.ixl=readbyte(z80.pc++),z80.pc&=65535},t[52]=function(t){tstates+=15;var z=(z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535;z80.pc&=65535;var e=readbyte(z);e=e+1&255,z80.f=1&z80.f|(128==e?4:0)|(15&e?0:16)|sz53_table[e],writebyte(z,e)},t[53]=function(t){tstates+=15;var z=(z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535;z80.pc&=65535;var e=readbyte(z);z80.f=1&z80.f|(15&e?0:16)|2,e=e-1&255,z80.f|=(127==e?4:0)|sz53_table[e],writebyte(z,e)},t[54]=function(t){tstates+=11;var z=(z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535;z80.pc&=65535,writebyte(z,readbyte(z80.pc++)),z80.pc&=65535},t[57]=function(t){var z=(z80.ixl|z80.ixh<<8)+z80.sp,e=(2048&(z80.ixl|z80.ixh<<8))>>11|(2048&z80.sp)>>10|(2048&z)>>9;tstates+=7,z80.ixh=z>>8&255,z80.ixl=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[68]=function(t){z80.b=z80.ixh},t[69]=function(t){z80.b=z80.ixl},t[70]=function(t){tstates+=11,z80.b=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[76]=function(t){z80.c=z80.ixh},t[77]=function(t){z80.c=z80.ixl},t[78]=function(t){tstates+=11,z80.c=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[84]=function(t){z80.d=z80.ixh},t[85]=function(t){z80.d=z80.ixl},t[86]=function(t){tstates+=11,z80.d=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[92]=function(t){z80.e=z80.ixh},t[93]=function(t){z80.e=z80.ixl},t[94]=function(t){tstates+=11,z80.e=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[96]=function(t){z80.ixh=z80.b},t[97]=function(t){z80.ixh=z80.c},t[98]=function(t){z80.ixh=z80.d},t[99]=function(t){z80.ixh=z80.e},t[100]=function(t){},t[101]=function(t){z80.ixh=z80.ixl},t[102]=function(t){tstates+=11,z80.h=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[103]=function(t){z80.ixh=z80.a},t[104]=function(t){z80.ixl=z80.b},t[105]=function(t){z80.ixl=z80.c},t[106]=function(t){z80.ixl=z80.d},t[107]=function(t){z80.ixl=z80.e},t[108]=function(t){z80.ixl=z80.ixh},t[109]=function(t){},t[110]=function(t){tstates+=11,z80.l=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[111]=function(t){z80.ixl=z80.a},t[112]=function(t){tstates+=11,writebyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.b),z80.pc&=65535},t[113]=function(t){tstates+=11,writebyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.c),z80.pc&=65535},t[114]=function(t){tstates+=11,writebyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.d),z80.pc&=65535},t[115]=function(t){tstates+=11,writebyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.e),z80.pc&=65535},t[116]=function(t){tstates+=11,writebyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.h),z80.pc&=65535},t[117]=function(t){tstates+=11,writebyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.l),z80.pc&=65535},t[119]=function(t){tstates+=11,writebyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.a),z80.pc&=65535},t[124]=function(t){z80.a=z80.ixh},t[125]=function(t){z80.a=z80.ixl},t[126]=function(t){tstates+=11,z80.a=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[132]=function(t){var z=z80.a+z80.ixh,e=(136&z80.a)>>3|(136&z80.ixh)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[133]=function(t){var z=z80.a+z80.ixl,e=(136&z80.a)>>3|(136&z80.ixl)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[134]=function(t){tstates+=11;var z=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535;var e=z80.a+z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=(256&e?1:0)|halfcarry_add_table[7&a]|overflow_add_table[a>>4]|sz53_table[z80.a]},t[140]=function(t){var z=z80.a+z80.ixh+(1&z80.f),e=(136&z80.a)>>3|(136&z80.ixh)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[141]=function(t){var z=z80.a+z80.ixl+(1&z80.f),e=(136&z80.a)>>3|(136&z80.ixl)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[142]=function(t){tstates+=11;var z=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535;var e=z80.a+z+(1&z80.f),a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=(256&e?1:0)|halfcarry_add_table[7&a]|overflow_add_table[a>>4]|sz53_table[z80.a]},t[148]=function(t){var z=z80.a-z80.ixh,e=(136&z80.a)>>3|(136&z80.ixh)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[149]=function(t){var z=z80.a-z80.ixl,e=(136&z80.a)>>3|(136&z80.ixl)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[150]=function(t){tstates+=11;var z=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535;var e=z80.a-z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=2|(256&e?1:0)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|sz53_table[z80.a]},t[156]=function(t){var z=z80.a-z80.ixh-(1&z80.f),e=(136&z80.a)>>3|(136&z80.ixh)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[157]=function(t){var z=z80.a-z80.ixl-(1&z80.f),e=(136&z80.a)>>3|(136&z80.ixl)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[158]=function(t){tstates+=11;var z=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535;var e=z80.a-z-(1&z80.f),a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=2|(256&e?1:0)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|sz53_table[z80.a]},t[164]=function(t){z80.a&=z80.ixh,z80.f=16|sz53p_table[z80.a]},t[165]=function(t){z80.a&=z80.ixl,z80.f=16|sz53p_table[z80.a]},t[166]=function(t){tstates+=11;var z=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535,z80.a&=z,z80.f=16|sz53p_table[z80.a]},t[172]=function(t){z80.a^=z80.ixh,z80.f=sz53p_table[z80.a]},t[173]=function(t){z80.a^=z80.ixl,z80.f=sz53p_table[z80.a]},t[174]=function(t){tstates+=11;var z=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535,z80.a^=z,z80.f=sz53p_table[z80.a]},t[180]=function(t){z80.a|=z80.ixh,z80.f=sz53p_table[z80.a]},t[181]=function(t){z80.a|=z80.ixl,z80.f=sz53p_table[z80.a]},t[182]=function(t){tstates+=11;var z=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535,z80.a|=z,z80.f=sz53p_table[z80.a]},t[188]=function(t){var z=z80.a-z80.ixh,e=(136&z80.a)>>3|(136&z80.ixh)>>2|(136&z)>>1;z80.f=2|(256&z?1:z?0:64)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|40&z80.ixh|128&z},t[189]=function(t){var z=z80.a-z80.ixl,e=(136&z80.a)>>3|(136&z80.ixl)>>2|(136&z)>>1;z80.f=2|(256&z?1:z?0:64)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|40&z80.ixl|128&z},t[190]=function(t){tstates+=11;var z=readbyte((z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535;var e=z80.a-z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.f=2|(256&e?1:e?0:64)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|40&z|128&e},t[203]=function(t){var z;tstates+=7,t=(z80.ixl|z80.ixh<<8)+sign_extend(readbyte(z80.pc++)),z80.pc&=65535,z=readbyte(z80.pc++),z80.pc&=65535,z80_ddfdcbxx(z,t)},t[225]=function(t){tstates+=6,z80.ixl=readbyte(z80.sp++),z80.sp&=65535,z80.ixh=readbyte(z80.sp++),z80.sp&=65535},t[227]=function(t){var z=readbyte(z80.sp),e=readbyte(z80.sp+1);tstates+=15,writebyte(z80.sp+1,z80.ixh),writebyte(z80.sp,z80.ixl),z80.ixl=z,z80.ixh=e},t[229]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.ixh),z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.ixl)},t[233]=function(t){z80.pc=z80.ixl|z80.ixh<<8},t[249]=function(t){tstates+=2,z80.sp=z80.ixl|z80.ixh<<8},t[256]=function(){z80.pc--,z80.pc&=65535,z80.r--,z80.r&=127},z80_defaults(t),t}(),z80_fd_ops=function(){var t=[];return t[9]=function(t){var z=(z80.iyl|z80.iyh<<8)+(z80.c|z80.b<<8),e=(2048&(z80.iyl|z80.iyh<<8))>>11|(2048&(z80.c|z80.b<<8))>>10|(2048&z)>>9;tstates+=7,z80.iyh=z>>8&255,z80.iyl=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[25]=function(t){var z=(z80.iyl|z80.iyh<<8)+(z80.e|z80.d<<8),e=(2048&(z80.iyl|z80.iyh<<8))>>11|(2048&(z80.e|z80.d<<8))>>10|(2048&z)>>9;tstates+=7,z80.iyh=z>>8&255,z80.iyl=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[33]=function(t){tstates+=6,z80.iyl=readbyte(z80.pc++),z80.pc&=65535,z80.iyh=readbyte(z80.pc++),z80.pc&=65535},t[34]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,writebyte(z++,z80.iyl),z&=65535,writebyte(z,z80.iyh)},t[35]=function(t){tstates+=2;var z=(z80.iyl|z80.iyh<<8)+1&65535;z80.iyh=z>>8,z80.iyl=255&z},t[36]=function(t){z80.iyh=z80.iyh+1&255,z80.f=1&z80.f|(128==z80.iyh?4:0)|(15&z80.iyh?0:16)|sz53_table[z80.iyh]},t[37]=function(t){z80.f=1&z80.f|(15&z80.iyh?0:16)|2,z80.iyh=z80.iyh-1&255,z80.f|=(127==z80.iyh?4:0)|sz53_table[z80.iyh]},t[38]=function(t){tstates+=3,z80.iyh=readbyte(z80.pc++),z80.pc&=65535},t[41]=function(t){var z=(z80.iyl|z80.iyh<<8)+(z80.iyl|z80.iyh<<8),e=(2048&(z80.iyl|z80.iyh<<8))>>11|(2048&(z80.iyl|z80.iyh<<8))>>10|(2048&z)>>9;tstates+=7,z80.iyh=z>>8&255,z80.iyl=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[42]=function(t){var z;tstates+=12,z=readbyte(z80.pc++),z80.pc&=65535,z|=readbyte(z80.pc++)<<8,z80.pc&=65535,z80.iyl=readbyte(z++),z&=65535,z80.iyh=readbyte(z)},t[43]=function(t){tstates+=2;var z=(z80.iyl|z80.iyh<<8)-1&65535;z80.iyh=z>>8,z80.iyl=255&z},t[44]=function(t){z80.iyl=z80.iyl+1&255,z80.f=1&z80.f|(128==z80.iyl?4:0)|(15&z80.iyl?0:16)|sz53_table[z80.iyl]},t[45]=function(t){z80.f=1&z80.f|(15&z80.iyl?0:16)|2,z80.iyl=z80.iyl-1&255,z80.f|=(127==z80.iyl?4:0)|sz53_table[z80.iyl]},t[46]=function(t){tstates+=3,z80.iyl=readbyte(z80.pc++),z80.pc&=65535},t[52]=function(t){tstates+=15;var z=(z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535;z80.pc&=65535;var e=readbyte(z);e=e+1&255,z80.f=1&z80.f|(128==e?4:0)|(15&e?0:16)|sz53_table[e],writebyte(z,e)},t[53]=function(t){tstates+=15;var z=(z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535;z80.pc&=65535;var e=readbyte(z);z80.f=1&z80.f|(15&e?0:16)|2,e=e-1&255,z80.f|=(127==e?4:0)|sz53_table[e],writebyte(z,e)},t[54]=function(t){tstates+=11;var z=(z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535;z80.pc&=65535,writebyte(z,readbyte(z80.pc++)),z80.pc&=65535},t[57]=function(t){var z=(z80.iyl|z80.iyh<<8)+z80.sp,e=(2048&(z80.iyl|z80.iyh<<8))>>11|(2048&z80.sp)>>10|(2048&z)>>9;tstates+=7,z80.iyh=z>>8&255,z80.iyl=255&z,z80.f=196&z80.f|(65536&z?1:0)|z>>8&40|halfcarry_add_table[e]},t[68]=function(t){z80.b=z80.iyh},t[69]=function(t){z80.b=z80.iyl},t[70]=function(t){tstates+=11,z80.b=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[76]=function(t){z80.c=z80.iyh},t[77]=function(t){z80.c=z80.iyl},t[78]=function(t){tstates+=11,z80.c=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[84]=function(t){z80.d=z80.iyh},t[85]=function(t){z80.d=z80.iyl},t[86]=function(t){tstates+=11,z80.d=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[92]=function(t){z80.e=z80.iyh},t[93]=function(t){z80.e=z80.iyl},t[94]=function(t){tstates+=11,z80.e=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[96]=function(t){z80.iyh=z80.b},t[97]=function(t){z80.iyh=z80.c},t[98]=function(t){z80.iyh=z80.d},t[99]=function(t){z80.iyh=z80.e},t[100]=function(t){},t[101]=function(t){z80.iyh=z80.iyl},t[102]=function(t){tstates+=11,z80.h=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[103]=function(t){z80.iyh=z80.a},t[104]=function(t){z80.iyl=z80.b},t[105]=function(t){z80.iyl=z80.c},t[106]=function(t){z80.iyl=z80.d},t[107]=function(t){z80.iyl=z80.e},t[108]=function(t){z80.iyl=z80.iyh},t[109]=function(t){},t[110]=function(t){tstates+=11,z80.l=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[111]=function(t){z80.iyl=z80.a},t[112]=function(t){tstates+=11,writebyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.b),z80.pc&=65535},t[113]=function(t){tstates+=11,writebyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.c),z80.pc&=65535},t[114]=function(t){tstates+=11,writebyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.d),z80.pc&=65535},t[115]=function(t){tstates+=11,writebyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.e),z80.pc&=65535},t[116]=function(t){tstates+=11,writebyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.h),z80.pc&=65535},t[117]=function(t){tstates+=11,writebyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.l),z80.pc&=65535},t[119]=function(t){tstates+=11,writebyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535,z80.a),z80.pc&=65535},t[124]=function(t){z80.a=z80.iyh},t[125]=function(t){z80.a=z80.iyl},t[126]=function(t){tstates+=11,z80.a=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535),z80.pc&=65535},t[132]=function(t){var z=z80.a+z80.iyh,e=(136&z80.a)>>3|(136&z80.iyh)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[133]=function(t){var z=z80.a+z80.iyl,e=(136&z80.a)>>3|(136&z80.iyl)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[134]=function(t){tstates+=11;var z=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535;var e=z80.a+z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=(256&e?1:0)|halfcarry_add_table[7&a]|overflow_add_table[a>>4]|sz53_table[z80.a]},t[140]=function(t){var z=z80.a+z80.iyh+(1&z80.f),e=(136&z80.a)>>3|(136&z80.iyh)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[141]=function(t){var z=z80.a+z80.iyl+(1&z80.f),e=(136&z80.a)>>3|(136&z80.iyl)>>2|(136&z)>>1;z80.a=255&z,z80.f=(256&z?1:0)|halfcarry_add_table[7&e]|overflow_add_table[e>>4]|sz53_table[z80.a]},t[142]=function(t){tstates+=11;var z=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535;var e=z80.a+z+(1&z80.f),a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=(256&e?1:0)|halfcarry_add_table[7&a]|overflow_add_table[a>>4]|sz53_table[z80.a]},t[148]=function(t){var z=z80.a-z80.iyh,e=(136&z80.a)>>3|(136&z80.iyh)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[149]=function(t){var z=z80.a-z80.iyl,e=(136&z80.a)>>3|(136&z80.iyl)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[150]=function(t){tstates+=11;var z=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535;var e=z80.a-z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=2|(256&e?1:0)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|sz53_table[z80.a]},t[156]=function(t){var z=z80.a-z80.iyh-(1&z80.f),e=(136&z80.a)>>3|(136&z80.iyh)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[157]=function(t){var z=z80.a-z80.iyl-(1&z80.f),e=(136&z80.a)>>3|(136&z80.iyl)>>2|(136&z)>>1;z80.a=255&z,z80.f=2|(256&z?1:0)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|sz53_table[z80.a]},t[158]=function(t){tstates+=11;var z=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535;var e=z80.a-z-(1&z80.f),a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.a=255&e,z80.f=2|(256&e?1:0)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|sz53_table[z80.a]},t[164]=function(t){z80.a&=z80.iyh,z80.f=16|sz53p_table[z80.a]},t[165]=function(t){z80.a&=z80.iyl,z80.f=16|sz53p_table[z80.a]},t[166]=function(t){tstates+=11;var z=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535,z80.a&=z,z80.f=16|sz53p_table[z80.a]},t[172]=function(t){z80.a^=z80.iyh,z80.f=sz53p_table[z80.a]},t[173]=function(t){z80.a^=z80.iyl,z80.f=sz53p_table[z80.a]},t[174]=function(t){tstates+=11;var z=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535,z80.a^=z,z80.f=sz53p_table[z80.a]},t[180]=function(t){z80.a|=z80.iyh,z80.f=sz53p_table[z80.a]},t[181]=function(t){z80.a|=z80.iyl,z80.f=sz53p_table[z80.a]},t[182]=function(t){tstates+=11;var z=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535,z80.a|=z,z80.f=sz53p_table[z80.a]},t[188]=function(t){var z=z80.a-z80.iyh,e=(136&z80.a)>>3|(136&z80.iyh)>>2|(136&z)>>1;z80.f=2|(256&z?1:z?0:64)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|40&z80.iyh|128&z},t[189]=function(t){var z=z80.a-z80.iyl,e=(136&z80.a)>>3|(136&z80.iyl)>>2|(136&z)>>1;z80.f=2|(256&z?1:z?0:64)|halfcarry_sub_table[7&e]|overflow_sub_table[e>>4]|40&z80.iyl|128&z},t[190]=function(t){tstates+=11;var z=readbyte((z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++))&65535);z80.pc&=65535;var e=z80.a-z,a=(136&z80.a)>>3|(136&z)>>2|(136&e)>>1;z80.f=2|(256&e?1:e?0:64)|halfcarry_sub_table[7&a]|overflow_sub_table[a>>4]|40&z|128&e},t[203]=function(t){var z;tstates+=7,t=(z80.iyl|z80.iyh<<8)+sign_extend(readbyte(z80.pc++)),z80.pc&=65535,z=readbyte(z80.pc++),z80.pc&=65535,z80_ddfdcbxx(z,t)},t[225]=function(t){tstates+=6,z80.iyl=readbyte(z80.sp++),z80.sp&=65535,z80.iyh=readbyte(z80.sp++),z80.sp&=65535},t[227]=function(t){var z=readbyte(z80.sp),e=readbyte(z80.sp+1);tstates+=15,writebyte(z80.sp+1,z80.iyh),writebyte(z80.sp,z80.iyl),z80.iyl=z,z80.iyh=e},t[229]=function(t){tstates++,tstates+=6,z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.iyh),z80.sp--,z80.sp&=65535,writebyte(z80.sp,z80.iyl)},t[233]=function(t){z80.pc=z80.iyl|z80.iyh<<8},t[249]=function(t){tstates+=2,z80.sp=z80.iyl|z80.iyh<<8},t[256]=function(){z80.pc--,z80.pc&=65535,z80.r--,z80.r&=127},z80_defaults(t),t}(),z80_ddfdcb_ops=function(){var t=[];return t[0]=function(t){tstates+=8,z80.b=readbyte(t),z80.b=(127&z80.b)<<1|z80.b>>7,z80.f=1&z80.b|sz53p_table[z80.b],writebyte(t,z80.b)},t[1]=function(t){tstates+=8,z80.c=readbyte(t),z80.c=(127&z80.c)<<1|z80.c>>7,z80.f=1&z80.c|sz53p_table[z80.c],writebyte(t,z80.c)},t[2]=function(t){tstates+=8,z80.d=readbyte(t),z80.d=(127&z80.d)<<1|z80.d>>7,z80.f=1&z80.d|sz53p_table[z80.d],writebyte(t,z80.d)},t[3]=function(t){tstates+=8,z80.e=readbyte(t),z80.e=(127&z80.e)<<1|z80.e>>7,z80.f=1&z80.e|sz53p_table[z80.e],writebyte(t,z80.e)},t[4]=function(t){tstates+=8,z80.h=readbyte(t),z80.h=(127&z80.h)<<1|z80.h>>7,z80.f=1&z80.h|sz53p_table[z80.h],writebyte(t,z80.h)},t[5]=function(t){tstates+=8,z80.l=readbyte(t),z80.l=(127&z80.l)<<1|z80.l>>7,z80.f=1&z80.l|sz53p_table[z80.l],writebyte(t,z80.l)},t[6]=function(t){tstates+=8;var z=readbyte(t);z=(127&z)<<1|z>>7,z80.f=1&z|sz53p_table[z],writebyte(t,z)},t[7]=function(t){tstates+=8,z80.a=readbyte(t),z80.a=(127&z80.a)<<1|z80.a>>7,z80.f=1&z80.a|sz53p_table[z80.a],writebyte(t,z80.a)},t[8]=function(t){tstates+=8,z80.b=readbyte(t),z80.f=1&z80.b,z80.b=z80.b>>1|(1&z80.b)<<7,z80.f|=sz53p_table[z80.b],writebyte(t,z80.b)},t[9]=function(t){tstates+=8,z80.c=readbyte(t),z80.f=1&z80.c,z80.c=z80.c>>1|(1&z80.c)<<7,z80.f|=sz53p_table[z80.c],writebyte(t,z80.c)},t[10]=function(t){tstates+=8,z80.d=readbyte(t),z80.f=1&z80.d,z80.d=z80.d>>1|(1&z80.d)<<7,z80.f|=sz53p_table[z80.d],writebyte(t,z80.d)},t[11]=function(t){tstates+=8,z80.e=readbyte(t),z80.f=1&z80.e,z80.e=z80.e>>1|(1&z80.e)<<7,z80.f|=sz53p_table[z80.e],writebyte(t,z80.e)},t[12]=function(t){tstates+=8,z80.h=readbyte(t),z80.f=1&z80.h,z80.h=z80.h>>1|(1&z80.h)<<7,z80.f|=sz53p_table[z80.h],writebyte(t,z80.h)},t[13]=function(t){tstates+=8,z80.l=readbyte(t),z80.f=1&z80.l,z80.l=z80.l>>1|(1&z80.l)<<7,z80.f|=sz53p_table[z80.l],writebyte(t,z80.l)},t[14]=function(t){tstates+=8;var z=readbyte(t);z80.f=1&z,z=z>>1|(1&z)<<7,z80.f|=sz53p_table[z],writebyte(t,z)},t[15]=function(t){tstates+=8,z80.a=readbyte(t),z80.f=1&z80.a,z80.a=z80.a>>1|(1&z80.a)<<7,z80.f|=sz53p_table[z80.a],writebyte(t,z80.a)},t[16]=function(t){tstates+=8,z80.b=readbyte(t);var z=z80.b;z80.b=(127&z80.b)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.b],writebyte(t,z80.b)},t[17]=function(t){tstates+=8,z80.c=readbyte(t);var z=z80.c;z80.c=(127&z80.c)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.c],writebyte(t,z80.c)},t[18]=function(t){tstates+=8,z80.d=readbyte(t);var z=z80.d;z80.d=(127&z80.d)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.d],writebyte(t,z80.d)},t[19]=function(t){tstates+=8,z80.e=readbyte(t);var z=z80.e;z80.e=(127&z80.e)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.e],writebyte(t,z80.e)},t[20]=function(t){tstates+=8,z80.h=readbyte(t);var z=z80.h;z80.h=(127&z80.h)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.h],writebyte(t,z80.h)},t[21]=function(t){tstates+=8,z80.l=readbyte(t);var z=z80.l;z80.l=(127&z80.l)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.l],writebyte(t,z80.l)},t[22]=function(t){tstates+=8;var z=readbyte(t),e=z;z=(127&z)<<1|1&z80.f,z80.f=e>>7|sz53p_table[z],writebyte(t,z)},t[23]=function(t){tstates+=8,z80.a=readbyte(t);var z=z80.a;z80.a=(127&z80.a)<<1|1&z80.f,z80.f=z>>7|sz53p_table[z80.a],writebyte(t,z80.a)},t[24]=function(t){tstates+=8,z80.b=readbyte(t);var z=z80.b;z80.b=z80.b>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.b],writebyte(t,z80.b)},t[25]=function(t){tstates+=8,z80.c=readbyte(t);var z=z80.c;z80.c=z80.c>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.c],writebyte(t,z80.c)},t[26]=function(t){tstates+=8,z80.d=readbyte(t);var z=z80.d;z80.d=z80.d>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.d],writebyte(t,z80.d)},t[27]=function(t){tstates+=8,z80.e=readbyte(t);var z=z80.e;z80.e=z80.e>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.e],writebyte(t,z80.e)},t[28]=function(t){tstates+=8,z80.h=readbyte(t);var z=z80.h;z80.h=z80.h>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.h],writebyte(t,z80.h)},t[29]=function(t){tstates+=8,z80.l=readbyte(t);var z=z80.l;z80.l=z80.l>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.l],writebyte(t,z80.l)},t[30]=function(t){tstates+=8;var z=readbyte(t),e=z;z=z>>1|(1&z80.f)<<7,z80.f=1&e|sz53p_table[z],writebyte(t,z)},t[31]=function(t){tstates+=8,z80.a=readbyte(t);var z=z80.a;z80.a=z80.a>>1|(1&z80.f)<<7,z80.f=1&z|sz53p_table[z80.a],writebyte(t,z80.a)},t[32]=function(t){tstates+=8,z80.b=readbyte(t),z80.f=z80.b>>7,z80.b<<=1,z80.b&=255,z80.f|=sz53p_table[z80.b],writebyte(t,z80.b)},t[33]=function(t){tstates+=8,z80.c=readbyte(t),z80.f=z80.c>>7,z80.c<<=1,z80.c&=255,z80.f|=sz53p_table[z80.c],writebyte(t,z80.c)},t[34]=function(t){tstates+=8,z80.d=readbyte(t),z80.f=z80.d>>7,z80.d<<=1,z80.d&=255,z80.f|=sz53p_table[z80.d],writebyte(t,z80.d)},t[35]=function(t){tstates+=8,z80.e=readbyte(t),z80.f=z80.e>>7,z80.e<<=1,z80.e&=255,z80.f|=sz53p_table[z80.e],writebyte(t,z80.e)},t[36]=function(t){tstates+=8,z80.h=readbyte(t),z80.f=z80.h>>7,z80.h<<=1,z80.h&=255,z80.f|=sz53p_table[z80.h],writebyte(t,z80.h)},t[37]=function(t){tstates+=8,z80.l=readbyte(t),z80.f=z80.l>>7,z80.l<<=1,z80.l&=255,z80.f|=sz53p_table[z80.l],writebyte(t,z80.l)},t[38]=function(t){tstates+=8;var z=readbyte(t);z80.f=z>>7,z<<=1,z&=255,z80.f|=sz53p_table[z],writebyte(t,z)},t[39]=function(t){tstates+=8,z80.a=readbyte(t),z80.f=z80.a>>7,z80.a<<=1,z80.a&=255,z80.f|=sz53p_table[z80.a],writebyte(t,z80.a)},t[40]=function(t){tstates+=8,z80.b=readbyte(t),z80.f=1&z80.b,z80.b=128&z80.b|z80.b>>1,z80.f|=sz53p_table[z80.b],writebyte(t,z80.b)},t[41]=function(t){tstates+=8,z80.c=readbyte(t),z80.f=1&z80.c,z80.c=128&z80.c|z80.c>>1,z80.f|=sz53p_table[z80.c],writebyte(t,z80.c)},t[42]=function(t){tstates+=8,z80.d=readbyte(t),z80.f=1&z80.d,z80.d=128&z80.d|z80.d>>1,z80.f|=sz53p_table[z80.d],writebyte(t,z80.d)},t[43]=function(t){tstates+=8,z80.e=readbyte(t),z80.f=1&z80.e,z80.e=128&z80.e|z80.e>>1,z80.f|=sz53p_table[z80.e],writebyte(t,z80.e)},t[44]=function(t){tstates+=8,z80.h=readbyte(t),z80.f=1&z80.h,z80.h=128&z80.h|z80.h>>1,z80.f|=sz53p_table[z80.h],writebyte(t,z80.h)},t[45]=function(t){tstates+=8,z80.l=readbyte(t),z80.f=1&z80.l,z80.l=128&z80.l|z80.l>>1,z80.f|=sz53p_table[z80.l],writebyte(t,z80.l)},t[46]=function(t){tstates+=8;var z=readbyte(t);z80.f=1&z,z=128&z|z>>1,z80.f|=sz53p_table[z],writebyte(t,z)},t[47]=function(t){tstates+=8,z80.a=readbyte(t),z80.f=1&z80.a,z80.a=128&z80.a|z80.a>>1,z80.f|=sz53p_table[z80.a],writebyte(t,z80.a)},t[48]=function(t){tstates+=8,z80.b=readbyte(t),z80.f=z80.b>>7,z80.b=z80.b<<1|1,z80.b&=255,z80.f|=sz53p_table[z80.b],writebyte(t,z80.b);
},t[49]=function(t){tstates+=8,z80.c=readbyte(t),z80.f=z80.c>>7,z80.c=z80.c<<1|1,z80.c&=255,z80.f|=sz53p_table[z80.c],writebyte(t,z80.c)},t[50]=function(t){tstates+=8,z80.d=readbyte(t),z80.f=z80.d>>7,z80.d=z80.d<<1|1,z80.d&=255,z80.f|=sz53p_table[z80.d],writebyte(t,z80.d)},t[51]=function(t){tstates+=8,z80.e=readbyte(t),z80.f=z80.e>>7,z80.e=z80.e<<1|1,z80.e&=255,z80.f|=sz53p_table[z80.e],writebyte(t,z80.e)},t[52]=function(t){tstates+=8,z80.h=readbyte(t),z80.f=z80.h>>7,z80.h=z80.h<<1|1,z80.h&=255,z80.f|=sz53p_table[z80.h],writebyte(t,z80.h)},t[53]=function(t){tstates+=8,z80.l=readbyte(t),z80.f=z80.l>>7,z80.l=z80.l<<1|1,z80.l&=255,z80.f|=sz53p_table[z80.l],writebyte(t,z80.l)},t[54]=function(t){tstates+=8;var z=readbyte(t);z80.f=z>>7,z=z<<1|1,z&=255,z80.f|=sz53p_table[z],writebyte(t,z)},t[55]=function(t){tstates+=8,z80.a=readbyte(t),z80.f=z80.a>>7,z80.a=z80.a<<1|1,z80.a&=255,z80.f|=sz53p_table[z80.a],writebyte(t,z80.a)},t[56]=function(t){tstates+=8,z80.b=readbyte(t),z80.f=1&z80.b,z80.b>>=1,z80.f|=sz53p_table[z80.b],writebyte(t,z80.b)},t[57]=function(t){tstates+=8,z80.c=readbyte(t),z80.f=1&z80.c,z80.c>>=1,z80.f|=sz53p_table[z80.c],writebyte(t,z80.c)},t[58]=function(t){tstates+=8,z80.d=readbyte(t),z80.f=1&z80.d,z80.d>>=1,z80.f|=sz53p_table[z80.d],writebyte(t,z80.d)},t[59]=function(t){tstates+=8,z80.e=readbyte(t),z80.f=1&z80.e,z80.e>>=1,z80.f|=sz53p_table[z80.e],writebyte(t,z80.e)},t[60]=function(t){tstates+=8,z80.h=readbyte(t),z80.f=1&z80.h,z80.h>>=1,z80.f|=sz53p_table[z80.h],writebyte(t,z80.h)},t[61]=function(t){tstates+=8,z80.l=readbyte(t),z80.f=1&z80.l,z80.l>>=1,z80.f|=sz53p_table[z80.l],writebyte(t,z80.l)},t[62]=function(t){tstates+=8;var z=readbyte(t);z80.f=1&z,z>>=1,z80.f|=sz53p_table[z],writebyte(t,z)},t[63]=function(t){tstates+=8,z80.a=readbyte(t),z80.f=1&z80.a,z80.a>>=1,z80.f|=sz53p_table[z80.a],writebyte(t,z80.a)},t[64]=t[65]=t[66]=t[67]=t[68]=t[69]=t[70]=t[71]=function(t){tstates+=5;var z=readbyte(t);z80.f=1&z80.f|16|t>>8&40,1&z||(z80.f|=68)},t[72]=t[73]=t[74]=t[75]=t[76]=t[77]=t[78]=t[79]=function(t){tstates+=5;var z=readbyte(t);z80.f=1&z80.f|16|t>>8&40,2&z||(z80.f|=68)},t[80]=t[81]=t[82]=t[83]=t[84]=t[85]=t[86]=t[87]=function(t){tstates+=5;var z=readbyte(t);z80.f=1&z80.f|16|t>>8&40,4&z||(z80.f|=68)},t[88]=t[89]=t[90]=t[91]=t[92]=t[93]=t[94]=t[95]=function(t){tstates+=5;var z=readbyte(t);z80.f=1&z80.f|16|t>>8&40,8&z||(z80.f|=68)},t[96]=t[97]=t[98]=t[99]=t[100]=t[101]=t[102]=t[103]=function(t){tstates+=5;var z=readbyte(t);z80.f=1&z80.f|16|t>>8&40,16&z||(z80.f|=68)},t[104]=t[105]=t[106]=t[107]=t[108]=t[109]=t[110]=t[111]=function(t){tstates+=5;var z=readbyte(t);z80.f=1&z80.f|16|t>>8&40,32&z||(z80.f|=68)},t[112]=t[113]=t[114]=t[115]=t[116]=t[117]=t[118]=t[119]=function(t){tstates+=5;var z=readbyte(t);z80.f=1&z80.f|16|t>>8&40,64&z||(z80.f|=68)},t[120]=t[121]=t[122]=t[123]=t[124]=t[125]=t[126]=t[127]=function(t){tstates+=5;var z=readbyte(t);z80.f=1&z80.f|16|t>>8&40,128&z||(z80.f|=68),128&z&&(z80.f|=128)},t[128]=function(t){tstates+=8,z80.b=254&readbyte(t),writebyte(t,z80.b)},t[129]=function(t){tstates+=8,z80.c=254&readbyte(t),writebyte(t,z80.c)},t[130]=function(t){tstates+=8,z80.d=254&readbyte(t),writebyte(t,z80.d)},t[131]=function(t){tstates+=8,z80.e=254&readbyte(t),writebyte(t,z80.e)},t[132]=function(t){tstates+=8,z80.h=254&readbyte(t),writebyte(t,z80.h)},t[133]=function(t){tstates+=8,z80.l=254&readbyte(t),writebyte(t,z80.l)},t[134]=function(t){tstates+=8,writebyte(t,254&readbyte(t))},t[135]=function(t){tstates+=8,z80.a=254&readbyte(t),writebyte(t,z80.a)},t[136]=function(t){tstates+=8,z80.b=253&readbyte(t),writebyte(t,z80.b)},t[137]=function(t){tstates+=8,z80.c=253&readbyte(t),writebyte(t,z80.c)},t[138]=function(t){tstates+=8,z80.d=253&readbyte(t),writebyte(t,z80.d)},t[139]=function(t){tstates+=8,z80.e=253&readbyte(t),writebyte(t,z80.e)},t[140]=function(t){tstates+=8,z80.h=253&readbyte(t),writebyte(t,z80.h)},t[141]=function(t){tstates+=8,z80.l=253&readbyte(t),writebyte(t,z80.l)},t[142]=function(t){tstates+=8,writebyte(t,253&readbyte(t))},t[143]=function(t){tstates+=8,z80.a=253&readbyte(t),writebyte(t,z80.a)},t[144]=function(t){tstates+=8,z80.b=251&readbyte(t),writebyte(t,z80.b)},t[145]=function(t){tstates+=8,z80.c=251&readbyte(t),writebyte(t,z80.c)},t[146]=function(t){tstates+=8,z80.d=251&readbyte(t),writebyte(t,z80.d)},t[147]=function(t){tstates+=8,z80.e=251&readbyte(t),writebyte(t,z80.e)},t[148]=function(t){tstates+=8,z80.h=251&readbyte(t),writebyte(t,z80.h)},t[149]=function(t){tstates+=8,z80.l=251&readbyte(t),writebyte(t,z80.l)},t[150]=function(t){tstates+=8,writebyte(t,251&readbyte(t))},t[151]=function(t){tstates+=8,z80.a=251&readbyte(t),writebyte(t,z80.a)},t[152]=function(t){tstates+=8,z80.b=247&readbyte(t),writebyte(t,z80.b)},t[153]=function(t){tstates+=8,z80.c=247&readbyte(t),writebyte(t,z80.c)},t[154]=function(t){tstates+=8,z80.d=247&readbyte(t),writebyte(t,z80.d)},t[155]=function(t){tstates+=8,z80.e=247&readbyte(t),writebyte(t,z80.e)},t[156]=function(t){tstates+=8,z80.h=247&readbyte(t),writebyte(t,z80.h)},t[157]=function(t){tstates+=8,z80.l=247&readbyte(t),writebyte(t,z80.l)},t[158]=function(t){tstates+=8,writebyte(t,247&readbyte(t))},t[159]=function(t){tstates+=8,z80.a=247&readbyte(t),writebyte(t,z80.a)},t[160]=function(t){tstates+=8,z80.b=239&readbyte(t),writebyte(t,z80.b)},t[161]=function(t){tstates+=8,z80.c=239&readbyte(t),writebyte(t,z80.c)},t[162]=function(t){tstates+=8,z80.d=239&readbyte(t),writebyte(t,z80.d)},t[163]=function(t){tstates+=8,z80.e=239&readbyte(t),writebyte(t,z80.e)},t[164]=function(t){tstates+=8,z80.h=239&readbyte(t),writebyte(t,z80.h)},t[165]=function(t){tstates+=8,z80.l=239&readbyte(t),writebyte(t,z80.l)},t[166]=function(t){tstates+=8,writebyte(t,239&readbyte(t))},t[167]=function(t){tstates+=8,z80.a=239&readbyte(t),writebyte(t,z80.a)},t[168]=function(t){tstates+=8,z80.b=223&readbyte(t),writebyte(t,z80.b)},t[169]=function(t){tstates+=8,z80.c=223&readbyte(t),writebyte(t,z80.c)},t[170]=function(t){tstates+=8,z80.d=223&readbyte(t),writebyte(t,z80.d)},t[171]=function(t){tstates+=8,z80.e=223&readbyte(t),writebyte(t,z80.e)},t[172]=function(t){tstates+=8,z80.h=223&readbyte(t),writebyte(t,z80.h)},t[173]=function(t){tstates+=8,z80.l=223&readbyte(t),writebyte(t,z80.l)},t[174]=function(t){tstates+=8,writebyte(t,223&readbyte(t))},t[175]=function(t){tstates+=8,z80.a=223&readbyte(t),writebyte(t,z80.a)},t[176]=function(t){tstates+=8,z80.b=191&readbyte(t),writebyte(t,z80.b)},t[177]=function(t){tstates+=8,z80.c=191&readbyte(t),writebyte(t,z80.c)},t[178]=function(t){tstates+=8,z80.d=191&readbyte(t),writebyte(t,z80.d)},t[179]=function(t){tstates+=8,z80.e=191&readbyte(t),writebyte(t,z80.e)},t[180]=function(t){tstates+=8,z80.h=191&readbyte(t),writebyte(t,z80.h)},t[181]=function(t){tstates+=8,z80.l=191&readbyte(t),writebyte(t,z80.l)},t[182]=function(t){tstates+=8,writebyte(t,191&readbyte(t))},t[183]=function(t){tstates+=8,z80.a=191&readbyte(t),writebyte(t,z80.a)},t[184]=function(t){tstates+=8,z80.b=127&readbyte(t),writebyte(t,z80.b)},t[185]=function(t){tstates+=8,z80.c=127&readbyte(t),writebyte(t,z80.c)},t[186]=function(t){tstates+=8,z80.d=127&readbyte(t),writebyte(t,z80.d)},t[187]=function(t){tstates+=8,z80.e=127&readbyte(t),writebyte(t,z80.e)},t[188]=function(t){tstates+=8,z80.h=127&readbyte(t),writebyte(t,z80.h)},t[189]=function(t){tstates+=8,z80.l=127&readbyte(t),writebyte(t,z80.l)},t[190]=function(t){tstates+=8,writebyte(t,127&readbyte(t))},t[191]=function(t){tstates+=8,z80.a=127&readbyte(t),writebyte(t,z80.a)},t[192]=function(t){tstates+=8,z80.b=1|readbyte(t),writebyte(t,z80.b)},t[193]=function(t){tstates+=8,z80.c=1|readbyte(t),writebyte(t,z80.c)},t[194]=function(t){tstates+=8,z80.d=1|readbyte(t),writebyte(t,z80.d)},t[195]=function(t){tstates+=8,z80.e=1|readbyte(t),writebyte(t,z80.e)},t[196]=function(t){tstates+=8,z80.h=1|readbyte(t),writebyte(t,z80.h)},t[197]=function(t){tstates+=8,z80.l=1|readbyte(t),writebyte(t,z80.l)},t[198]=function(t){tstates+=8,writebyte(t,1|readbyte(t))},t[199]=function(t){tstates+=8,z80.a=1|readbyte(t),writebyte(t,z80.a)},t[200]=function(t){tstates+=8,z80.b=2|readbyte(t),writebyte(t,z80.b)},t[201]=function(t){tstates+=8,z80.c=2|readbyte(t),writebyte(t,z80.c)},t[202]=function(t){tstates+=8,z80.d=2|readbyte(t),writebyte(t,z80.d)},t[203]=function(t){tstates+=8,z80.e=2|readbyte(t),writebyte(t,z80.e)},t[204]=function(t){tstates+=8,z80.h=2|readbyte(t),writebyte(t,z80.h)},t[205]=function(t){tstates+=8,z80.l=2|readbyte(t),writebyte(t,z80.l)},t[206]=function(t){tstates+=8,writebyte(t,2|readbyte(t))},t[207]=function(t){tstates+=8,z80.a=2|readbyte(t),writebyte(t,z80.a)},t[208]=function(t){tstates+=8,z80.b=4|readbyte(t),writebyte(t,z80.b)},t[209]=function(t){tstates+=8,z80.c=4|readbyte(t),writebyte(t,z80.c)},t[210]=function(t){tstates+=8,z80.d=4|readbyte(t),writebyte(t,z80.d)},t[211]=function(t){tstates+=8,z80.e=4|readbyte(t),writebyte(t,z80.e)},t[212]=function(t){tstates+=8,z80.h=4|readbyte(t),writebyte(t,z80.h)},t[213]=function(t){tstates+=8,z80.l=4|readbyte(t),writebyte(t,z80.l)},t[214]=function(t){tstates+=8,writebyte(t,4|readbyte(t))},t[215]=function(t){tstates+=8,z80.a=4|readbyte(t),writebyte(t,z80.a)},t[216]=function(t){tstates+=8,z80.b=8|readbyte(t),writebyte(t,z80.b)},t[217]=function(t){tstates+=8,z80.c=8|readbyte(t),writebyte(t,z80.c)},t[218]=function(t){tstates+=8,z80.d=8|readbyte(t),writebyte(t,z80.d)},t[219]=function(t){tstates+=8,z80.e=8|readbyte(t),writebyte(t,z80.e)},t[220]=function(t){tstates+=8,z80.h=8|readbyte(t),writebyte(t,z80.h)},t[221]=function(t){tstates+=8,z80.l=8|readbyte(t),writebyte(t,z80.l)},t[222]=function(t){tstates+=8,writebyte(t,8|readbyte(t))},t[223]=function(t){tstates+=8,z80.a=8|readbyte(t),writebyte(t,z80.a)},t[224]=function(t){tstates+=8,z80.b=16|readbyte(t),writebyte(t,z80.b)},t[225]=function(t){tstates+=8,z80.c=16|readbyte(t),writebyte(t,z80.c)},t[226]=function(t){tstates+=8,z80.d=16|readbyte(t),writebyte(t,z80.d)},t[227]=function(t){tstates+=8,z80.e=16|readbyte(t),writebyte(t,z80.e)},t[228]=function(t){tstates+=8,z80.h=16|readbyte(t),writebyte(t,z80.h)},t[229]=function(t){tstates+=8,z80.l=16|readbyte(t),writebyte(t,z80.l)},t[230]=function(t){tstates+=8,writebyte(t,16|readbyte(t))},t[231]=function(t){tstates+=8,z80.a=16|readbyte(t),writebyte(t,z80.a)},t[232]=function(t){tstates+=8,z80.b=32|readbyte(t),writebyte(t,z80.b)},t[233]=function(t){tstates+=8,z80.c=32|readbyte(t),writebyte(t,z80.c)},t[234]=function(t){tstates+=8,z80.d=32|readbyte(t),writebyte(t,z80.d)},t[235]=function(t){tstates+=8,z80.e=32|readbyte(t),writebyte(t,z80.e)},t[236]=function(t){tstates+=8,z80.h=32|readbyte(t),writebyte(t,z80.h)},t[237]=function(t){tstates+=8,z80.l=32|readbyte(t),writebyte(t,z80.l)},t[238]=function(t){tstates+=8,writebyte(t,32|readbyte(t))},t[239]=function(t){tstates+=8,z80.a=32|readbyte(t),writebyte(t,z80.a)},t[240]=function(t){tstates+=8,z80.b=64|readbyte(t),writebyte(t,z80.b)},t[241]=function(t){tstates+=8,z80.c=64|readbyte(t),writebyte(t,z80.c)},t[242]=function(t){tstates+=8,z80.d=64|readbyte(t),writebyte(t,z80.d)},t[243]=function(t){tstates+=8,z80.e=64|readbyte(t),writebyte(t,z80.e)},t[244]=function(t){tstates+=8,z80.h=64|readbyte(t),writebyte(t,z80.h)},t[245]=function(t){tstates+=8,z80.l=64|readbyte(t),writebyte(t,z80.l)},t[246]=function(t){tstates+=8,writebyte(t,64|readbyte(t))},t[247]=function(t){tstates+=8,z80.a=64|readbyte(t),writebyte(t,z80.a)},t[248]=function(t){tstates+=8,z80.b=128|readbyte(t),writebyte(t,z80.b)},t[249]=function(t){tstates+=8,z80.c=128|readbyte(t),writebyte(t,z80.c)},t[250]=function(t){tstates+=8,z80.d=128|readbyte(t),writebyte(t,z80.d)},t[251]=function(t){tstates+=8,z80.e=128|readbyte(t),writebyte(t,z80.e)},t[252]=function(t){tstates+=8,z80.h=128|readbyte(t),writebyte(t,z80.h)},t[253]=function(t){tstates+=8,z80.l=128|readbyte(t),writebyte(t,z80.l)},t[254]=function(t){tstates+=8,writebyte(t,128|readbyte(t))},t[255]=function(t){tstates+=8,z80.a=128|readbyte(t),writebyte(t,z80.a)},t[256]=function(){},z80_defaults(t),t}(),vram=[],vramUntwiddled=[],vdp_regs=[],palette=[],paletteR=[],paletteG=[],paletteB=[],paletteRGB=[],vdp_addr_state=0,vdp_mode_select=0,vdp_addr_latch=0,vdp_addr=0,vdp_current_line=0,vdp_status=0,vdp_pending_hblank=!1,vdp_hblank_counter=0,prev_border=null,borderColourCss=null;const reverse_table=function(){for(var t=new Uint8Array(256),z=0;256>z;++z){for(var e=z,a=0,n=0;8>n;++n)a<<=1,1&e&&(a|=1),e>>>=1;t[z]=a}return t}();var currentFrame=1;"undefined"==typeof console&&(console={log:function(t){}});var ram=[],cartridgeRam=[],romBanks=[],pages=[],ramSelectRegister=0,romPageMask=0,canvas,ctx,imageData,fb8,fb32,joystick=65535,inputMode=0,soundChip,audio_on=!0;const framesPerSecond=50,scanLinesPerFrame=313,scanLinesPerSecond=15650,cpuHz=358e4,tstatesPerHblank=0|Math.ceil(228.75399361022363),targetTimeout=20;var adjustedTimeout=targetTimeout,lastFrame=null;const linesPerYield=20;var keys={87:1,83:2,65:4,68:8,32:16,13:32,38:1,40:2,37:4,39:8,90:16,89:16,88:32,82:4096};